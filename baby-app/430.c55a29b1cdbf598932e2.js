"use strict";(self.webpackChunkbaby_app=self.webpackChunkbaby_app||[]).push([[430],{6222:(j,z,l)=>{l.d(z,{i:()=>ne});var m=l(3679),O=l(2238),M=l(5257),I=l(7626),R=l(5830),p=l(7716),L=l(8611),e=l(3332),y=l(9790),d=l(8873),v=l(5525),A=l(1073),F=l(8583),Q=l(9712),G=l(6991);function N(E,H){if(1&E){const C=p.EpF();p.TgZ(0,"button",9),p.NdJ("click",function(){return p.CHM(C),p.oxw().startTimer("left")}),p._UZ(1,"ae-icon",10),p.TgZ(2,"div"),p._uU(3),p.ALo(4,"translate"),p.qZA(),p.qZA()}2&E&&(p.xp6(3),p.Oqu(p.lcZ(4,1,"left")))}function te(E,H){if(1&E){const C=p.EpF();p.TgZ(0,"button",9),p.NdJ("click",function(){return p.CHM(C),p.oxw().startTimer("right")}),p._UZ(1,"ae-icon",10),p.TgZ(2,"div"),p._uU(3),p.ALo(4,"translate"),p.qZA(),p.qZA()}2&E&&(p.xp6(3),p.Oqu(p.lcZ(4,1,"right")))}function ie(E,H){if(1&E){const C=p.EpF();p.TgZ(0,"button",9),p.NdJ("click",function(){return p.CHM(C),p.oxw().stopTimer()}),p._UZ(1,"ae-icon",11),p.qZA()}}let ne=(()=>{class E{constructor(C,w,_,U,b,T){var P,J,Y,q;this.data=C,this.fb=w,this.breastFeedService=_,this.dialogRef=U,this.toastr=b,this.translate=T,this.submitting=!1,this.activeTimerSide="",this.breastFeed=this.data.breastFeed,this.nurseFG=this.fb.group({_id:[null===(P=this.breastFeed)||void 0===P?void 0:P._id],date:[(0,I._3)((null===(J=this.breastFeed)||void 0===J?void 0:J.date)||(new Date).toString())],leftSideTime:[(null===(Y=this.breastFeed)||void 0===Y?void 0:Y.leftSideTime)||0,m.kI.required],rightSideTime:[(null===(q=this.breastFeed)||void 0===q?void 0:q.rightSideTime)||0,m.kI.required]})}ngOnInit(){}submit(){this.nurseFG.invalid?(0,R.E)(this.nurseFG):(this.submitting=!0,this.breastFeedService[this.breastFeed?"update":"create"](this.nurseFG.value).pipe((0,M.q)(1)).subscribe(w=>{this.submitting=!1,this.dialogRef.close(w),this.toastr.success(this.translate.instant(`breast_feed_page.breast_feed_modal.${this.breastFeed?"edit":"create"}_success`))}))}startTimer(C){const w="left"===C;this.activeTimerSide=C;const _=this.nurseFG.get(w?"leftSideTime":"rightSideTime");this.interval&&clearInterval(this.interval),this.interval=setInterval(()=>{_.patchValue(_.value+1)},1e3)}stopTimer(){clearInterval(this.interval),this.activeTimerSide=""}}return E.\u0275fac=function(C){return new(C||E)(p.Y36(O.WI),p.Y36(m.qu),p.Y36(L.H),p.Y36(O.so),p.Y36(e._),p.Y36(y.sK))},E.\u0275cmp=p.Xpm({type:E,selectors:[["ae-nursing-timer-modal"]],decls:17,vars:15,consts:[["dialog-content",""],[3,"form"],[3,"label","control"],[1,"d-flex"],[1,"section-2","text-center"],["class","ae-nurse-button",3,"click",4,"ngIf","ngIfElse"],["stopSide",""],["dialog-actions",""],[3,"submitting","text","click"],[1,"ae-nurse-button",3,"click"],["iconSize","32","iconName","play_arrow"],["iconSize","32","iconName","pause"]],template:function(C,w){if(1&C&&(p.TgZ(0,"ae-dialog"),p.ynx(1,0),p.TgZ(2,"ae-form",1),p._UZ(3,"ae-input",2),p.ALo(4,"translate"),p.TgZ(5,"div",3),p.TgZ(6,"div",4),p.YNc(7,N,5,3,"button",5),p._uU(8),p.qZA(),p.TgZ(9,"div",4),p.YNc(10,te,5,3,"button",5),p._uU(11),p.qZA(),p.YNc(12,ie,2,0,"ng-template",null,6,p.W1O),p.qZA(),p.qZA(),p.BQk(),p.ynx(14,7),p.TgZ(15,"ae-button",8),p.NdJ("click",function(){return w.submit()}),p.ALo(16,"translate"),p.qZA(),p.BQk(),p.qZA()),2&C){const _=p.MAs(13);p.xp6(2),p.Q6J("form",w.nurseFG),p.xp6(1),p.Q6J("label",p.lcZ(4,11,"date"))("control",w.nurseFG.get("date")),p.xp6(4),p.Q6J("ngIf","left"!==w.activeTimerSide)("ngIfElse",_),p.xp6(1),p.hij(" ",w.nurseFG.value.leftSideTime,"s "),p.xp6(2),p.Q6J("ngIf","right"!==w.activeTimerSide)("ngIfElse",_),p.xp6(1),p.hij(" ",w.nurseFG.value.rightSideTime,"s "),p.xp6(4),p.Q6J("submitting",w.submitting)("text",p.lcZ(16,13,w.breastFeed?"dialog.save":"dialog.create"))}},directives:[d.a,v.U,A.a,F.O5,Q.r,G.o],pipes:[y.X$],styles:[".ae-nurse-button[_ngcontent-%COMP%]{border-radius:50%;width:75px;height:75px;background:#fffeca;display:block;border:2px solid #eeedae;margin:0 auto}"]}),E})()},8611:(j,z,l)=>{l.d(z,{H:()=>e});var m=l(8002),O=l(7626),M=l(2340),I=l(7716),R=l(1841),p=l(8613),L=l(9790);let e=(()=>{class y{constructor(v,A,F){this.http=v,this.userService=A,this.translate=F,this.baseUrl=M.N.baseUrl}getAll(){return this.http.get(`${this.baseUrl}/child/${this.userService.selectedChild._id}/breast-feed`).pipe((0,m.U)(v=>(v.forEach(A=>{A.totalTime=(0,O.HV)(A.leftSideTime+A.rightSideTime,this.translate)}),(0,O.DY)(v,"date","asc"))))}update(v){return this.http.put(`${this.baseUrl}/child/${this.userService.selectedChild._id}/breast-feed/${v._id}`,v)}delete(v){return this.http.delete(`${this.baseUrl}/child/${this.userService.selectedChild._id}/breast-feed/${v._id}`)}create(v){return this.http.post(`${this.baseUrl}/child/${this.userService.selectedChild._id}/breast-feed`,v)}}return y.\u0275fac=function(v){return new(v||y)(I.LFG(R.eN),I.LFG(p.K),I.LFG(L.sK))},y.\u0275prov=I.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})()},1674:(j,z,l)=>{l.d(z,{P:()=>w});var m=l(3679),O=l(2238),M=l(205),I=l(5257),R=l(5304),p=l(7626),L=l(5830),e=l(3052);const y=[{value:"porridge",name:"supplement.porridge"},{value:"fruit",name:"supplement.fruit"},{value:"juice",name:"supplement.juice"},{value:"meat",name:"supplement.meat"},{value:"milk",name:"supplement.milk"},{value:"vegetables",name:"supplement.vegetables"},{value:"vitamins",name:"supplement.vitamins"},{value:"water",name:"supplement.water"}];var d=l(7716),v=l(42),A=l(3332),F=l(9790),Q=l(8873),G=l(5525),N=l(1073),te=l(8583),ie=l(9712),ne=l(4602);function E(_,U){if(1&_&&(d.TgZ(0,"div",12),d._UZ(1,"ae-select",13),d.qZA()),2&_){const b=d.oxw(2);d.xp6(1),d.Q6J("label","Supplement")("list",b.allSupplementNames)("control",b.foodFG.get("supplement"))}}function H(_,U){if(1&_&&(d.TgZ(0,"div",7),d.TgZ(1,"div",8),d._UZ(2,"ae-input",9),d.ALo(3,"translate"),d.TgZ(4,"div",10),d._uU(5,"(ml)"),d.qZA(),d.qZA(),d.YNc(6,E,2,3,"div",11),d.qZA()),2&_){const b=d.oxw();d.xp6(1),d.ekj("section-2","supplement"===b.foodType),d.xp6(1),d.ekj("section-2","supplement"!==b.foodType),d.Q6J("label",d.lcZ(3,7,"amount"))("control",b.foodFG.get("amount")),d.xp6(4),d.Q6J("ngIf","supplement"===b.foodType)}}function C(_,U){if(1&_&&(d.TgZ(0,"div",14),d.TgZ(1,"div",15),d._UZ(2,"ae-input",9),d.ALo(3,"translate"),d.TgZ(4,"div",10),d._uU(5,"(ml)"),d.qZA(),d.qZA(),d.TgZ(6,"div",15),d._UZ(7,"ae-input",16),d.ALo(8,"translate"),d.TgZ(9,"div",10),d._uU(10,"(ml)"),d.qZA(),d.qZA(),d.qZA()),2&_){const b=d.oxw();d.xp6(2),d.Q6J("label",d.lcZ(3,4,"left_side"))("control",b.foodFG.get("leftSide")),d.xp6(5),d.Q6J("label",d.lcZ(8,6,"right_side"))("control",b.foodFG.get("rightSide"))}}let w=(()=>{class _{constructor(b,T,P,J,Y,q){var K,X,oe,ae,re,se;this.data=b,this.fb=T,this.foodService=P,this.dialogRef=J,this.toastr=Y,this.translate=q,this.submitting=!1,this.allSupplements=y.map($=>($.name=this.translate.instant($.name),$)),this.allSupplementNames=[],this.allSupplementNames=(0,p.DY)(this.allSupplements.map($=>$.name),"name","asc"),this.foodType=this.data.foodType,this.food=this.data.food,this.foodFG=this.fb.group({_id:[null===(K=this.food)||void 0===K?void 0:K._id],date:[(0,p._3)((null===(X=this.food)||void 0===X?void 0:X.date)||(new Date).toString()),m.kI.required],amount:[null===(oe=this.food)||void 0===oe?void 0:oe.amount,this.foodType!==e.S.Pump?[m.kI.required]:[]],supplement:[this.getSupplementNameByValue(null===(ae=this.food)||void 0===ae?void 0:ae.supplement),this.foodType===e.S.Supplement?[m.kI.required]:[]],type:this.foodType,leftSide:[null===(re=this.food)||void 0===re?void 0:re.leftSide,this.foodType===e.S.Pump?[m.kI.required]:[]],rightSide:[null===(se=this.food)||void 0===se?void 0:se.rightSide,this.foodType===e.S.Pump?[m.kI.required]:[]]})}ngOnInit(){}submit(){if(this.foodFG.invalid)return void(0,L.E)(this.foodFG);this.submitting=!0;const b=this.food?"update":"create",T=this.foodFG.value;T.amount=+T.leftSide+ +T.rightSide||T.amount,T.supplement=T.supplement?this.allSupplements.find(P=>P.name===T.supplement).value:null,this.foodService[b](this.foodFG.value).pipe((0,I.q)(1),(0,R.K)(()=>(this.submitting=!1,(0,M._)("UNABLE_TO_ADD_FOOD")))).subscribe(P=>{this.toastr.success(this.translate.instant(`food_detail_page.modal.${P.type}.${this.food?"edit":"create"}_toastr`)),this.submitting=!1,this.dialogRef.close(P)})}getSupplementNameByValue(b){var T;return b?null===(T=this.allSupplements.find(P=>P.value===this.food.supplement))||void 0===T?void 0:T.name:null}}return _.\u0275fac=function(b){return new(b||_)(d.Y36(O.WI),d.Y36(m.qu),d.Y36(v.d),d.Y36(O.so),d.Y36(A._),d.Y36(F.sK))},_.\u0275cmp=d.Xpm({type:_,selectors:[["ae-add-food-amount"]],decls:11,vars:11,consts:[["dialog-content",""],[3,"form"],[3,"label","control"],["class","d-flex",4,"ngIf","ngIfElse"],["pumpForm",""],["dialog-actions",""],[3,"submitting","text","click"],[1,"d-flex"],[1,"d-flex","align-center"],["cdkFocusInitial","","inputType","number",3,"label","control"],[1,"amount"],["class","section-2 d-flex align-center",4,"ngIf"],[1,"section-2","d-flex","align-center"],[3,"label","list","control"],[1,"d-flex","justify-between"],[1,"d-flex","align-center","section-2"],["inputType","number",3,"label","control"]],template:function(b,T){if(1&b&&(d.TgZ(0,"ae-dialog"),d.ynx(1,0),d.TgZ(2,"ae-form",1),d._UZ(3,"ae-input",2),d.ALo(4,"translate"),d.YNc(5,H,7,9,"div",3),d.YNc(6,C,11,8,"ng-template",null,4,d.W1O),d.qZA(),d.BQk(),d.ynx(8,5),d.TgZ(9,"ae-button",6),d.NdJ("click",function(){return T.submit()}),d.ALo(10,"translate"),d.qZA(),d.BQk(),d.qZA()),2&b){const P=d.MAs(7);d.xp6(2),d.Q6J("form",T.foodFG),d.xp6(1),d.Q6J("label",d.lcZ(4,7,"date"))("control",T.foodFG.get("date")),d.xp6(2),d.Q6J("ngIf","pump"!==T.foodType)("ngIfElse",P),d.xp6(4),d.Q6J("submitting",T.submitting)("text",d.lcZ(10,9,T.food?"dialog.save":"dialog.create"))}},directives:[Q.a,G.U,N.a,te.O5,ie.r,ne.H],pipes:[F.X$],styles:[".amount[_ngcontent-%COMP%]{margin:5px 6px 0 3px}"]}),_})()},3052:(j,z,l)=>{l.d(z,{S:()=>m});var m=(()=>{return(O=m||(m={})).Supplement="supplement",O.Substitution="substitution",O.Pump="pump",m;var O})()},8430:(j,z,l)=>{l.r(z),l.d(z,{ProfileModule:()=>Qt});var m=l(8583),O=l(4655),M=l(5257),I=l(5435),R=l(8873),p=l(4003),L=l(8317),e=l(7716),y=l(2238),d=l(9443),v=l(9790),A=l(3332),F=l(4131),Q=l(3107),G=l(6991),N=l(9712);function te(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"li"),e.TgZ(1,"div",2),e.TgZ(2,"div",9),e._UZ(3,"ae-icon",10),e.TgZ(4,"div",11),e.TgZ(5,"h3"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"p"),e._uU(9),e.ALo(10,"date"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"div",12),e.TgZ(12,"ae-icon-button",13),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw(2).addOrEditAchievement(a)}),e.qZA(),e.TgZ(13,"ae-icon-button",14),e.NdJ("click",function(){const n=e.CHM(t),a=n.$implicit,s=n.index;return e.oxw(2).delete(a,s)}),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=r.$implicit;e.xp6(6),e.Oqu(e.lcZ(7,2,"achievement."+t.achievement)),e.xp6(3),e.Oqu(e.Dn7(10,4,t.date,"YYYY-MM-dd","-"))}}function ie(o,r){if(1&o&&(e.TgZ(0,"ul",7),e.YNc(1,te,14,8,"li",8),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.achievements)}}function ne(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",15),e._uU(1," There are currently no added achievements. "),e.TgZ(2,"div",16),e.TgZ(3,"ae-button",17),e.NdJ("click",function(){return e.CHM(t),e.oxw().addOrEditAchievement()}),e.qZA(),e.qZA(),e.qZA()}}const E=function(){return{name:"Alessa"}};let H=(()=>{class o{constructor(t,i,n,a){this.dialog=t,this.achievementService=i,this.translate=n,this.toastr=a,this.breadcrumbs=[{name:"Profile",link:"/profile"},{name:"achievements"}],this.allAchievements=L.K}ngOnInit(){this.achievementService.getAll().pipe((0,M.q)(1)).subscribe(t=>{this.achievements=t})}addOrEditAchievement(t){this.dialog.open(p.e,{data:{achievement:t,primaryLabel:"",size:"md",achievements:this.achievements,title:this.translate.instant(`achievement_page.modal.${t?"edit":"add"}_title`)}}).afterClosed().pipe((0,M.q)(1),(0,I.h)(i=>!!i)).subscribe(i=>{if(t){console.log(i);const n=this.achievements.findIndex(a=>a._id===t._id);this.achievements[n]=Object.assign({},i)}else i&&this.achievements.push(i)})}delete(t,i){this.dialog.open(R.a,{autoFocus:!0,data:{size:"sm",title:"Delete achievement",content:`Do you really want to delete the achievement <b>${this.translate.instant("achievement."+t.achievement)}</b>?`,primaryLabel:"Delete",callback:this.deleteConfirmed.bind(this,t,i)}})}deleteConfirmed(t,i){this.achievementService.delete(t).pipe((0,M.q)(1)).subscribe(()=>{this.dialog.closeAll(),this.achievements.splice(i,1),this.toastr.success(this.translate.instant("Success"))})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(y.uw),e.Y36(d.o),e.Y36(v.sK),e.Y36(A._))},o.\u0275cmp=e.Xpm({type:o,selectors:[["ae-achievement"]],decls:13,vars:13,consts:[[3,"breadcrumbs"],[1,"heading-1"],[1,"d-flex","align-center","justify-between"],[3,"hidden"],["aria-label","Add achievement","iconName","add","tooltipText","Add achievement",3,"click"],["class","ae-action-list",4,"ngIf","ngIfElse"],["noAchievements",""],[1,"ae-action-list"],[4,"ngFor","ngForOf"],[1,"d-flex","align-center"],["iconSize","28","iconName","emoji_events",1,"ae-action-list-icon","achievement"],[1,"ae-action-list-content"],[1,"actions"],["iconName","edit","aria-label","Edit achievement","tooltipText","Edit achievement",3,"click"],["iconName","delete","aria-label","Delete achievement","tooltipText","Delete achievement",3,"click"],[1,"ae-empty-results"],[1,"ae-empty-results-action","d-flex","justify-center"],["buttonIconName","add","text","Add",1,"d-block",3,"click"]],template:function(t,i){if(1&t&&(e._UZ(0,"ae-breadcrumb",0),e.TgZ(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",2),e.TgZ(5,"div"),e.TgZ(6,"span",3),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.qZA(),e.TgZ(9,"ae-icon-button",4),e.NdJ("click",function(){return i.addOrEditAchievement()}),e.qZA(),e.qZA(),e.YNc(10,ie,2,1,"ul",5),e.YNc(11,ne,4,0,"ng-template",null,6,e.W1O)),2&t){const n=e.MAs(12);e.Q6J("breadcrumbs",i.breadcrumbs),e.xp6(2),e.hij(" ",e.xi3(3,7,"achievement_page.title",e.DdM(12,E)),"\n"),e.xp6(4),e.Q6J("hidden",!i.achievements||0===(null==i.achievements?null:i.achievements.length)),e.xp6(1),e.AsE(" ",null==i.achievements?null:i.achievements.length," ",e.lcZ(8,10,"achievement_page.results_text")," "),e.xp6(3),e.Q6J("ngIf",(null==i.achievements?null:i.achievements.length)>0)("ngIfElse",n)}},directives:[F.L,Q.r,m.O5,m.sg,G.o,N.r],pipes:[v.X$,m.uU],styles:["ae-breadcrumb[_ngcontent-%COMP%]{margin-bottom:10px;display:block}"]}),o})();var C=l(3679),w=l(9765),_=l(7626),U=l(8613),b=l(2340),T=l(1841);let P=(()=>{class o{constructor(t,i){this.http=t,this.userService=i,this.baseUrl=b.N.baseUrl}updateProfilePic(t,i){return this.http.put(`${this.baseUrl}/child/${t._id}/update-profile-img`,{base64Img:i})}updateCoverPic(t,i){return this.http.put(`${this.baseUrl}/child/${t._id}/update-cover-img`,{base64Img:i})}update(t){return this.http.put(`${this.baseUrl}/child/${t._id}`,t)}delete(t){return this.http.delete(`${this.baseUrl}/child/${t._id}`)}create(t){return this.http.post(`${this.baseUrl}/child`,t)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(T.eN),e.LFG(U.K))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var J=l(5525),Y=l(1073),q=l(1383);let K=(()=>{class o{constructor(t,i,n,a,s,c,u){this.data=t,this.fb=i,this.userService=n,this.childService=a,this.toastr=s,this.translate=c,this.dialogRef=u,this.triggerSave$=new w.xQ,this.editCurrChild=!1,this.editCurrChild=this.data.editCurrChild,this.childFG=this.fb.group({_id:[this.editCurrChild?this.selectedChild._id:""],name:[this.editCurrChild?this.selectedChild.name:"",C.kI.required],dob:[this.editCurrChild?this.selectedChild.dob:"",C.kI.required],user_id:[this.userService.user._id]})}get selectedChild(){return this.userService.selectedChild}submit(){this.childFG.invalid?this.triggerSave$.next():this.childService[this.editCurrChild?"update":"create"](this.childFG.value).pipe((0,M.q)(1)).subscribe(i=>{console.log(i),(0,_.fI)(this.userService.children,i,"_id"),this.userService.selectedChild=i,this.dialogRef.close(i),this.toastr.success(this.translate.instant("add_child_page.toastr"))})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(y.WI),e.Y36(C.qu),e.Y36(U.K),e.Y36(P),e.Y36(A._),e.Y36(v.sK),e.Y36(y.so))},o.\u0275cmp=e.Xpm({type:o,selectors:[["ae-add-child"]],decls:8,vars:13,consts:[["dialog-content","",1,"ba-form",3,"form","triggerSave$"],["inputType","name",3,"label","control"],[3,"label","control"],["dialog-actions","",3,"text","click"]],template:function(t,i){1&t&&(e.TgZ(0,"ae-dialog"),e.TgZ(1,"ae-form",0),e._UZ(2,"ae-input",1),e.ALo(3,"translate"),e._UZ(4,"ae-datepicker",2),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"ae-button",3),e.NdJ("click",function(){return i.submit()}),e.ALo(7,"translate"),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("form",i.childFG)("triggerSave$",i.triggerSave$),e.xp6(1),e.Q6J("label",e.lcZ(3,7,"name"))("control",i.childFG.get("name")),e.xp6(2),e.Q6J("label",e.lcZ(5,9,"dob"))("control",i.childFG.get("dob")),e.xp6(2),e.Q6J("text",e.lcZ(7,11,i.editCurrChild?"dialog.save":"dialog.create")))},directives:[R.a,J.U,Y.a,q.Q,N.r],pipes:[v.X$],styles:[""]}),o})();var X=l(3052),oe=l(42),ae=l(8611);let re=(()=>{class o{constructor(t,i,n){this.dialog=t,this.foodService=i,this.breastFeedService=n,this.foodType=X.S,this.groupedFoodObjects={substitution:[],supplement:[],pump:[]},this.breadcrumbs=[{name:"Profile",link:"/profile"},{name:"food"}]}ngOnInit(){this.foodService.getAll().pipe((0,M.q)(1)).subscribe(t=>{this.groupFoodByType(t)}),this.breastFeedService.getAll().pipe((0,M.q)(1)).subscribe(t=>{this.breastFeed=t})}groupFoodByType(t){t.forEach(i=>{this.groupedFoodObjects[i.type]=this.groupedFoodObjects[i.type]||[],this.groupedFoodObjects[i.type].push(i)})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(y.uw),e.Y36(oe.d),e.Y36(ae.H))},o.\u0275cmp=e.Xpm({type:o,selectors:[["ae-food"]],decls:29,vars:8,consts:[[3,"breadcrumbs"],[1,"heading-1"],[1,"ae-action-list"],["routerLink","breast-feed"],[1,"ae-action-list-content"],["routerLink","food-detail/pump"],["routerLink","food-detail/substitution"],["routerLink","food-detail/supplement"]],template:function(t,i){1&t&&(e._UZ(0,"ae-breadcrumb",0),e.TgZ(1,"h1",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"ul",2),e.TgZ(5,"li",3),e.TgZ(6,"div",4),e.TgZ(7,"h3"),e._uU(8,"Nurse"),e.qZA(),e.TgZ(9,"p"),e._uU(10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"li",5),e.TgZ(12,"div",4),e.TgZ(13,"h3"),e._uU(14,"Pump"),e.qZA(),e.TgZ(15,"p"),e._uU(16),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"li",6),e.TgZ(18,"div",4),e.TgZ(19,"h3"),e._uU(20,"Substitution"),e.qZA(),e.TgZ(21,"p"),e._uU(22),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"li",7),e.TgZ(24,"div",4),e.TgZ(25,"h3"),e._uU(26,"Supplement"),e.qZA(),e.TgZ(27,"p"),e._uU(28),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.Q6J("breadcrumbs",i.breadcrumbs),e.xp6(2),e.hij(" ",e.lcZ(3,6,"food_page.title"),"\n"),e.xp6(8),e.hij(" Total amount of nurse(s) ",null==i.breastFeed?null:i.breastFeed.length," "),e.xp6(6),e.hij(" Total amount of substitution(s) ",i.groupedFoodObjects.pump.length," "),e.xp6(6),e.hij(" Total amount of substitution(s) ",i.groupedFoodObjects.substitution.length," "),e.xp6(6),e.hij(" Total amount of supplement(s) ",i.groupedFoodObjects.supplement.length," "))},directives:[F.L,O.rH],pipes:[v.X$],styles:[""]}),o})();var se=l(6215),$=l(7519),Oe=l(4395),we=l(9773),Ie=l(4e3),Pe=l(6222),Ee=l(1674),Fe=l(265);function _e(o,r,t,i){return new(t||(t=Promise))(function(a,s){function c(g){try{h(i.next(g))}catch(f){s(f)}}function u(g){try{h(i.throw(g))}catch(f){s(f)}}function h(g){g.done?a(g.value):function(a){return a instanceof t?a:new t(function(s){s(a)})}(g.value).then(c,u)}h((i=i.apply(o,r||[])).next())})}var Ue=l(9075);const ze=["wrapper"],De=["sourceImage"];function ke(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"img",4,5),e.NdJ("load",function(){return e.CHM(t),e.oxw().imageLoadedInView()}),e.qZA()}if(2&o){const t=e.oxw();e.Udp("visibility",t.imageVisible?"visible":"hidden")("transform",t.safeTransformStyle),e.Q6J("src",t.safeImgDataUrl,e.LSH)}}function Le(o,r){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"span",9),e.NdJ("mousedown",function(n){e.CHM(t);const a=e.oxw(2);return a.startMove(n,a.moveTypes.Resize,"topleft")})("touchstart",function(n){e.CHM(t);const a=e.oxw(2);return a.startMove(n,a.moveTypes.Resize,"topleft")}),e._UZ(2,"span",10),e.qZA(),e.TgZ(3,"span",11),e._UZ(4,"span",10),e.qZA(),e.TgZ(5,"span",12),e.NdJ("mousedown",function(n){e.CHM(t);const a=e.oxw(2);return a.startMove(n,a.moveTypes.Resize,"topright")})("touchstart",function(n){e.CHM(t);const a=e.oxw(2);return a.startMove(n,a.moveTypes.Resize,"topright")}),e._UZ(6,"span",10),e.qZA(),e.TgZ(7,"span",13),e._UZ(8,"span",10),e.qZA(),e.TgZ(9,"span",14),e.NdJ("mousedown",function(n){e.CHM(t);const a=e.oxw(2);return a.startMove(n,a.moveTypes.Resize,"bottomright")})("touchstart",function(n){e.CHM(t);const a=e.oxw(2);return a.startMove(n,a.moveTypes.Resize,"bottomright")}),e._UZ(10,"span",10),e.qZA(),e.TgZ(11,"span",15),e._UZ(12,"span",10),e.qZA(),e.TgZ(13,"span",16),e.NdJ("mousedown",function(n){e.CHM(t);const a=e.oxw(2);return a.startMove(n,a.moveTypes.Resize,"bottomleft")})("touchstart",function(n){e.CHM(t);const a=e.oxw(2);return a.startMove(n,a.moveTypes.Resize,"bottomleft")}),e._UZ(14,"span",10),e.qZA(),e.TgZ(15,"span",17),e._UZ(16,"span",10),e.qZA(),e.TgZ(17,"span",18),e.NdJ("mousedown",function(n){e.CHM(t);const a=e.oxw(2);return a.startMove(n,a.moveTypes.Resize,"top")})("touchstart",function(n){e.CHM(t);const a=e.oxw(2);return a.startMove(n,a.moveTypes.Resize,"top")}),e.qZA(),e.TgZ(18,"span",19),e.NdJ("mousedown",function(n){e.CHM(t);const a=e.oxw(2);return a.startMove(n,a.moveTypes.Resize,"right")})("touchstart",function(n){e.CHM(t);const a=e.oxw(2);return a.startMove(n,a.moveTypes.Resize,"right")}),e.qZA(),e.TgZ(19,"span",20),e.NdJ("mousedown",function(n){e.CHM(t);const a=e.oxw(2);return a.startMove(n,a.moveTypes.Resize,"bottom")})("touchstart",function(n){e.CHM(t);const a=e.oxw(2);return a.startMove(n,a.moveTypes.Resize,"bottom")}),e.qZA(),e.TgZ(20,"span",21),e.NdJ("mousedown",function(n){e.CHM(t);const a=e.oxw(2);return a.startMove(n,a.moveTypes.Resize,"left")})("touchstart",function(n){e.CHM(t);const a=e.oxw(2);return a.startMove(n,a.moveTypes.Resize,"left")}),e.qZA(),e.BQk()}}function Ne(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",6),e.NdJ("keydown",function(n){return e.CHM(t),e.oxw().keyboardAccess(n)}),e.TgZ(1,"div",7),e.NdJ("mousedown",function(n){e.CHM(t);const a=e.oxw();return a.startMove(n,a.moveTypes.Move)})("touchstart",function(n){e.CHM(t);const a=e.oxw();return a.startMove(n,a.moveTypes.Move)}),e.qZA(),e.YNc(2,Le,21,0,"ng-container",8),e.qZA()}if(2&o){const t=e.oxw();e.Udp("top",t.cropper.y1,"px")("left",t.cropper.x1,"px")("width",t.cropper.x2-t.cropper.x1,"px")("height",t.cropper.y2-t.cropper.y1,"px")("margin-left","center"===t.alignImage?t.marginLeft:null)("visibility",t.imageVisible?"visible":"hidden"),e.ekj("rounded",t.roundCropper),e.xp6(2),e.Q6J("ngIf",!t.hideResizeSquares)}}const W={Move:"move",Resize:"resize",Pinch:"pinch"};let qe=(()=>{class o{crop(t,i,n,a){const s=this.getImagePosition(t,i,n,a),c=s.x2-s.x1,u=s.y2-s.y1,h=document.createElement("canvas");h.width=c,h.height=u;const g=h.getContext("2d");if(!g)return;null!=a.backgroundColor&&(g.fillStyle=a.backgroundColor,g.fillRect(0,0,c,u));const f=(a.transform.scale||1)*(a.transform.flipH?-1:1),x=(a.transform.scale||1)*(a.transform.flipV?-1:1),Z=i.transformed;g.setTransform(f,0,0,x,Z.size.width/2,Z.size.height/2),g.translate(-s.x1/f,-s.y1/x),g.rotate((a.transform.rotate||0)*Math.PI/180),g.drawImage(Z.image,-Z.size.width/2,-Z.size.height/2);const S={width:c,height:u,imagePosition:s,cropperPosition:Object.assign({},n)};a.containWithinAspectRatio&&(S.offsetImagePosition=this.getOffsetImagePosition(t,i,n,a));const k=this.getResizeRatio(c,u,a);return 1!==k&&(S.width=Math.round(c*k),S.height=a.maintainAspectRatio?Math.round(S.width/a.aspectRatio):Math.round(u*k),function(o,r,t){const i=o.width,n=o.height,a=i/(r=Math.round(r)),s=n/(t=Math.round(t)),c=Math.ceil(a/2),u=Math.ceil(s/2),h=o.getContext("2d");if(h){const g=h.getImageData(0,0,i,n),f=h.createImageData(r,t),x=g.data,Z=f.data;for(let S=0;S<t;S++)for(let k=0;k<r;k++){const le=4*(k+S*r),Jt=S*s;let B=0,de=0,Me=0,Ae=0,be=0,ye=0,Te=0;const Wt=Math.floor(k*a),Yt=Math.floor(S*s);let ue=Math.ceil((k+1)*a),ge=Math.ceil((S+1)*s);ue=Math.min(ue,i),ge=Math.min(ge,n);for(let pe=Yt;pe<ge;pe++){const Ze=Math.abs(Jt-pe)/u,$t=k*a,jt=Ze*Ze;for(let he=Wt;he<ue;he++){const Se=Math.abs($t-he)/c,V=Math.sqrt(jt+Se*Se);if(V>=1)continue;B=2*V*V*V-3*V*V+1;const ee=4*(he+pe*i);Te+=B*x[ee+3],Me+=B,x[ee+3]<255&&(B=B*x[ee+3]/250),Ae+=B*x[ee],be+=B*x[ee+1],ye+=B*x[ee+2],de+=B}}Z[le]=Ae/de,Z[le+1]=be/de,Z[le+2]=ye/de,Z[le+3]=Te/Me}o.width=r,o.height=t,h.putImageData(f,0,0)}}(h,S.width,S.height)),S.base64=h.toDataURL("image/"+a.format,this.getQuality(a)),S}getImagePosition(t,i,n,a){const c=i.transformed.size.width/t.nativeElement.offsetWidth,u={x1:Math.round(n.x1*c),y1:Math.round(n.y1*c),x2:Math.round(n.x2*c),y2:Math.round(n.y2*c)};return a.containWithinAspectRatio||(u.x1=Math.max(u.x1,0),u.y1=Math.max(u.y1,0),u.x2=Math.min(u.x2,i.transformed.size.width),u.y2=Math.min(u.y2,i.transformed.size.height)),u}getOffsetImagePosition(t,i,n,a){const u=i.transformed.size.width/t.nativeElement.offsetWidth;let h,g;(a.canvasRotation+i.exifTransform.rotate)%2?(h=(i.transformed.size.width-i.original.size.height)/2,g=(i.transformed.size.height-i.original.size.width)/2):(h=(i.transformed.size.width-i.original.size.width)/2,g=(i.transformed.size.height-i.original.size.height)/2);const f={x1:Math.round(n.x1*u)-h,y1:Math.round(n.y1*u)-g,x2:Math.round(n.x2*u)-h,y2:Math.round(n.y2*u)-g};return a.containWithinAspectRatio||(f.x1=Math.max(f.x1,0),f.y1=Math.max(f.y1,0),f.x2=Math.min(f.x2,i.transformed.size.width),f.y2=Math.min(f.y2,i.transformed.size.height)),f}getResizeRatio(t,i,n){const a=n.resizeToWidth/t,s=n.resizeToHeight/i,c=new Array;n.resizeToWidth>0&&c.push(a),n.resizeToHeight>0&&c.push(s);const u=0===c.length?1:Math.min(...c);return u>1&&!n.onlyScaleDown?u:Math.min(u,1)}getQuality(t){return Math.min(1,Math.max(0,t.imageQuality/100))}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=(0,e.Yz7)({factory:function(){return new o},token:o,providedIn:"root"}),o})();class Be{constructor(){this.format="png",this.maintainAspectRatio=!0,this.transform={},this.aspectRatio=1,this.resizeToWidth=0,this.resizeToHeight=0,this.cropperMinWidth=0,this.cropperMinHeight=0,this.cropperMaxHeight=0,this.cropperMaxWidth=0,this.cropperStaticWidth=0,this.cropperStaticHeight=0,this.canvasRotation=0,this.initialStepSize=3,this.roundCropper=!1,this.onlyScaleDown=!1,this.imageQuality=92,this.autoCrop=!0,this.backgroundColor=void 0,this.containWithinAspectRatio=!1,this.hideResizeSquares=!1,this.alignImage="center",this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20,this.cropperScaledMaxWidth=20,this.cropperScaledMaxHeight=20,this.stepSize=this.initialStepSize}setOptions(r){Object.keys(r).filter(t=>t in this).forEach(t=>this[t]=r[t]),this.validateOptions()}setOptionsFromChanges(r){Object.keys(r).filter(t=>t in this).forEach(t=>this[t]=r[t].currentValue),this.validateOptions()}validateOptions(){if(this.maintainAspectRatio&&!this.aspectRatio)throw new Error("`aspectRatio` should > 0 when `maintainAspectRatio` is enabled")}}let je=(()=>{class o{constructor(){this.autoRotateSupported=new Promise(o=>{const r=new Image;r.onload=()=>{o(1===r.width&&2===r.height)},r.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q=="})}loadImageFile(t,i){return new Promise((n,a)=>{const s=new FileReader;s.onload=c=>{this.loadImage(c.target.result,t.type,i).then(n).catch(a)},s.readAsDataURL(t)})}loadImage(t,i,n){return this.isValidImageType(i)?this.loadBase64Image(t,n):Promise.reject(new Error("Invalid image type"))}isValidImageType(t){return/image\/(png|jpg|jpeg|bmp|gif|tiff|webp)/.test(t)}loadImageFromURL(t,i){return new Promise((n,a)=>{const s=new Image;s.onerror=()=>a,s.onload=()=>{const c=document.createElement("canvas"),u=c.getContext("2d");c.width=s.width,c.height=s.height,u.drawImage(s,0,0),this.loadBase64Image(c.toDataURL(),i).then(n)},s.crossOrigin="anonymous",s.src=t})}loadBase64Image(t,i){return new Promise((n,a)=>{const s=new Image;s.onload=()=>n({originalImage:s,originalBase64:t}),s.onerror=a,s.src=t}).then(n=>this.transformImageBase64(n,i))}transformImageBase64(t,i){return _e(this,void 0,void 0,function*(){const n=yield this.autoRotateSupported,a=yield function(o){switch("string"==typeof o&&(o=function(o){const r=new DataView(function(o){o=o.replace(/^data\:([^\;]+)\;base64,/gim,"");const r=atob(o),t=r.length,i=new Uint8Array(t);for(let n=0;n<t;n++)i[n]=r.charCodeAt(n);return i.buffer}(o));if(65496!=r.getUint16(0,!1))return-2;const t=r.byteLength;let i=2;for(;i<t;){if(r.getUint16(i+2,!1)<=8)return-1;const n=r.getUint16(i,!1);if(i+=2,65505==n){if(1165519206!=r.getUint32(i+=2,!1))return-1;const a=18761==r.getUint16(i+=6,!1);i+=r.getUint32(i+4,a);const s=r.getUint16(i,a);i+=2;for(let c=0;c<s;c++)if(274==r.getUint16(i+12*c,a))return r.getUint16(i+12*c+8,a)}else{if(65280!=(65280&n))break;i+=r.getUint16(i,!1)}}return-1}(o)),o){case 2:return{rotate:0,flip:!0};case 3:return{rotate:2,flip:!1};case 4:return{rotate:2,flip:!0};case 5:return{rotate:1,flip:!0};case 6:return{rotate:1,flip:!1};case 7:return{rotate:3,flip:!0};case 8:return{rotate:3,flip:!1};default:return{rotate:0,flip:!1}}}(n?-1:t.originalBase64);return t.originalImage&&t.originalImage.complete?this.transformLoadedImage({original:{base64:t.originalBase64,image:t.originalImage,size:{width:t.originalImage.naturalWidth,height:t.originalImage.naturalHeight}},exifTransform:a},i):Promise.reject(new Error("No image loaded"))})}transformLoadedImage(t,i){return _e(this,void 0,void 0,function*(){const n=i.canvasRotation+t.exifTransform.rotate,a={width:t.original.image.naturalWidth,height:t.original.image.naturalHeight};if(0===n&&!t.exifTransform.flip&&!i.containWithinAspectRatio)return{original:{base64:t.original.base64,image:t.original.image,size:Object.assign({},a)},transformed:{base64:t.original.base64,image:t.original.image,size:Object.assign({},a)},exifTransform:t.exifTransform};const s=this.getTransformedSize(a,t.exifTransform,i),c=document.createElement("canvas");c.width=s.width,c.height=s.height;const u=c.getContext("2d");u.setTransform(t.exifTransform.flip?-1:1,0,0,1,c.width/2,c.height/2),u.rotate(Math.PI*(n/2)),u.drawImage(t.original.image,-a.width/2,-a.height/2);const h=c.toDataURL(),g=yield this.loadImageFromBase64(h);return{original:{base64:t.original.base64,image:t.original.image,size:Object.assign({},a)},transformed:{base64:h,image:g,size:{width:g.width,height:g.height}},exifTransform:t.exifTransform}})}loadImageFromBase64(t){return new Promise((i,n)=>{const a=new Image;a.onload=()=>i(a),a.onerror=n,a.src=t})}getTransformedSize(t,i,n){const a=n.canvasRotation+i.rotate;if(n.containWithinAspectRatio){if(a%2){const c=t.height/n.aspectRatio;return{width:Math.max(t.height,t.width*n.aspectRatio),height:Math.max(t.width,c)}}{const c=t.width/n.aspectRatio;return{width:Math.max(t.width,t.height*n.aspectRatio),height:Math.max(t.height,c)}}}return a%2?{height:t.width,width:t.height}:{width:t.width,height:t.height}}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=(0,e.Yz7)({factory:function(){return new o},token:o,providedIn:"root"}),o})(),Ge=(()=>{class o{resetCropperPosition(t,i,n){if(!(null==t?void 0:t.nativeElement))return;const a=t.nativeElement;if(n.cropperStaticHeight&&n.cropperStaticWidth)i.x1=0,i.x2=a.offsetWidth>n.cropperStaticWidth?n.cropperStaticWidth:a.offsetWidth,i.y1=0,i.y2=a.offsetHeight>n.cropperStaticHeight?n.cropperStaticHeight:a.offsetHeight;else{const s=Math.min(n.cropperScaledMaxWidth,a.offsetWidth),c=Math.min(n.cropperScaledMaxHeight,a.offsetHeight);if(n.maintainAspectRatio)if(s/n.aspectRatio<c){i.x1=0,i.x2=s;const u=s/n.aspectRatio;i.y1=(a.offsetHeight-u)/2,i.y2=i.y1+u}else{i.y1=0,i.y2=c;const u=c*n.aspectRatio;i.x1=(a.offsetWidth-u)/2,i.x2=i.x1+u}else i.x1=0,i.x2=s,i.y1=0,i.y2=c}}move(t,i,n){const a=this.getClientX(t)-i.clientX,s=this.getClientY(t)-i.clientY;n.x1=i.x1+a,n.y1=i.y1+s,n.x2=i.x2+a,n.y2=i.y2+s}resize(t,i,n,a,s){const c=this.getClientX(t)-i.clientX,u=this.getClientY(t)-i.clientY;switch(i.position){case"left":n.x1=Math.min(Math.max(i.x1+c,n.x2-s.cropperScaledMaxWidth),n.x2-s.cropperScaledMinWidth);break;case"topleft":n.x1=Math.min(Math.max(i.x1+c,n.x2-s.cropperScaledMaxWidth),n.x2-s.cropperScaledMinWidth),n.y1=Math.min(Math.max(i.y1+u,n.y2-s.cropperScaledMaxHeight),n.y2-s.cropperScaledMinHeight);break;case"top":n.y1=Math.min(Math.max(i.y1+u,n.y2-s.cropperScaledMaxHeight),n.y2-s.cropperScaledMinHeight);break;case"topright":n.x2=Math.max(Math.min(i.x2+c,n.x1+s.cropperScaledMaxWidth),n.x1+s.cropperScaledMinWidth),n.y1=Math.min(Math.max(i.y1+u,n.y2-s.cropperScaledMaxHeight),n.y2-s.cropperScaledMinHeight);break;case"right":n.x2=Math.max(Math.min(i.x2+c,n.x1+s.cropperScaledMaxWidth),n.x1+s.cropperScaledMinWidth);break;case"bottomright":n.x2=Math.max(Math.min(i.x2+c,n.x1+s.cropperScaledMaxWidth),n.x1+s.cropperScaledMinWidth),n.y2=Math.max(Math.min(i.y2+u,n.y1+s.cropperScaledMaxHeight),n.y1+s.cropperScaledMinHeight);break;case"bottom":n.y2=Math.max(Math.min(i.y2+u,n.y1+s.cropperScaledMaxHeight),n.y1+s.cropperScaledMinHeight);break;case"bottomleft":n.x1=Math.min(Math.max(i.x1+c,n.x2-s.cropperScaledMaxWidth),n.x2-s.cropperScaledMinWidth),n.y2=Math.max(Math.min(i.y2+u,n.y1+s.cropperScaledMaxHeight),n.y1+s.cropperScaledMinHeight);break;case"center":const h=t.scale,g=Math.min(Math.max(s.cropperScaledMinWidth,Math.abs(i.x2-i.x1)*h),s.cropperScaledMaxWidth),f=Math.min(Math.max(s.cropperScaledMinHeight,Math.abs(i.y2-i.y1)*h),s.cropperScaledMaxHeight);n.x1=i.clientX-g/2,n.x2=i.clientX+g/2,n.y1=i.clientY-f/2,n.y2=i.clientY+f/2,n.x1<0?(n.x2-=n.x1,n.x1=0):n.x2>a.width&&(n.x1-=n.x2-a.width,n.x2=a.width),n.y1<0?(n.y2-=n.y1,n.y1=0):n.y2>a.height&&(n.y1-=n.y2-a.height,n.y2=a.height)}s.maintainAspectRatio&&this.checkAspectRatio(i.position,n,a,s)}checkAspectRatio(t,i,n,a){let s=0,c=0;switch(t){case"top":i.x2=i.x1+(i.y2-i.y1)*a.aspectRatio,s=Math.max(i.x2-n.width,0),c=Math.max(0-i.y1,0),(s>0||c>0)&&(i.x2-=c*a.aspectRatio>s?c*a.aspectRatio:s,i.y1+=c*a.aspectRatio>s?c:s/a.aspectRatio);break;case"bottom":i.x2=i.x1+(i.y2-i.y1)*a.aspectRatio,s=Math.max(i.x2-n.width,0),c=Math.max(i.y2-n.height,0),(s>0||c>0)&&(i.x2-=c*a.aspectRatio>s?c*a.aspectRatio:s,i.y2-=c*a.aspectRatio>s?c:s/a.aspectRatio);break;case"topleft":i.y1=i.y2-(i.x2-i.x1)/a.aspectRatio,s=Math.max(0-i.x1,0),c=Math.max(0-i.y1,0),(s>0||c>0)&&(i.x1+=c*a.aspectRatio>s?c*a.aspectRatio:s,i.y1+=c*a.aspectRatio>s?c:s/a.aspectRatio);break;case"topright":i.y1=i.y2-(i.x2-i.x1)/a.aspectRatio,s=Math.max(i.x2-n.width,0),c=Math.max(0-i.y1,0),(s>0||c>0)&&(i.x2-=c*a.aspectRatio>s?c*a.aspectRatio:s,i.y1+=c*a.aspectRatio>s?c:s/a.aspectRatio);break;case"right":case"bottomright":i.y2=i.y1+(i.x2-i.x1)/a.aspectRatio,s=Math.max(i.x2-n.width,0),c=Math.max(i.y2-n.height,0),(s>0||c>0)&&(i.x2-=c*a.aspectRatio>s?c*a.aspectRatio:s,i.y2-=c*a.aspectRatio>s?c:s/a.aspectRatio);break;case"left":case"bottomleft":i.y2=i.y1+(i.x2-i.x1)/a.aspectRatio,s=Math.max(0-i.x1,0),c=Math.max(i.y2-n.height,0),(s>0||c>0)&&(i.x1+=c*a.aspectRatio>s?c*a.aspectRatio:s,i.y2-=c*a.aspectRatio>s?c:s/a.aspectRatio);break;case"center":i.x2=i.x1+(i.y2-i.y1)*a.aspectRatio,i.y2=i.y1+(i.x2-i.x1)/a.aspectRatio;const u=Math.max(0-i.x1,0),h=Math.max(i.x2-n.width,0),g=Math.max(i.y2-n.height,0),f=Math.max(0-i.y1,0);(u>0||h>0||g>0||f>0)&&(i.x1+=g*a.aspectRatio>u?g*a.aspectRatio:u,i.x2-=f*a.aspectRatio>h?f*a.aspectRatio:h,i.y1+=f*a.aspectRatio>h?f:h/a.aspectRatio,i.y2-=g*a.aspectRatio>u?g:u/a.aspectRatio)}}getClientX(t){return(t.touches&&t.touches[0]?t.touches[0].clientX:t.clientX)||0}getClientY(t){return(t.touches&&t.touches[0]?t.touches[0].clientY:t.clientY)||0}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=(0,e.Yz7)({factory:function(){return new o},token:o,providedIn:"root"}),o})(),et=(()=>{class o{constructor(t,i,n,a,s){this.cropService=t,this.cropperPositionService=i,this.loadImageService=n,this.sanitizer=a,this.cd=s,this.Hammer="undefined"!=typeof window?window.Hammer:null,this.settings=new Be,this.setImageMaxSizeRetries=0,this.marginLeft="0px",this.moveTypes=W,this.imageVisible=!1,this.format=this.settings.format,this.transform={},this.maintainAspectRatio=this.settings.maintainAspectRatio,this.aspectRatio=this.settings.aspectRatio,this.resizeToWidth=this.settings.resizeToWidth,this.resizeToHeight=this.settings.resizeToHeight,this.cropperMinWidth=this.settings.cropperMinWidth,this.cropperMinHeight=this.settings.cropperMinHeight,this.cropperMaxHeight=this.settings.cropperMaxHeight,this.cropperMaxWidth=this.settings.cropperMaxWidth,this.cropperStaticWidth=this.settings.cropperStaticWidth,this.cropperStaticHeight=this.settings.cropperStaticHeight,this.canvasRotation=this.settings.canvasRotation,this.initialStepSize=this.settings.initialStepSize,this.roundCropper=this.settings.roundCropper,this.onlyScaleDown=this.settings.onlyScaleDown,this.imageQuality=this.settings.imageQuality,this.autoCrop=this.settings.autoCrop,this.backgroundColor=this.settings.backgroundColor,this.containWithinAspectRatio=this.settings.containWithinAspectRatio,this.hideResizeSquares=this.settings.hideResizeSquares,this.cropper={x1:-100,y1:-100,x2:1e4,y2:1e4},this.alignImage=this.settings.alignImage,this.disabled=!1,this.imageCropped=new e.vpe,this.startCropImage=new e.vpe,this.imageLoaded=new e.vpe,this.cropperReady=new e.vpe,this.loadImageFailed=new e.vpe,this.reset()}ngOnChanges(t){this.onChangesUpdateSettings(t),this.onChangesInputImage(t),this.loadedImage&&this.loadedImage.original.image.complete&&(t.containWithinAspectRatio||t.canvasRotation)&&this.loadImageService.transformLoadedImage(this.loadedImage,this.settings).then(i=>this.setLoadedImage(i)).catch(i=>this.loadImageError(i)),(t.cropper||t.maintainAspectRatio||t.aspectRatio)&&(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.maintainAspectRatio&&(t.maintainAspectRatio||t.aspectRatio)?this.resetCropperPosition():t.cropper&&(this.checkCropperPosition(!1),this.doAutoCrop()),this.cd.markForCheck()),t.transform&&(this.transform=this.transform||{},this.setCssTransform(),this.doAutoCrop())}onChangesUpdateSettings(t){this.settings.setOptionsFromChanges(t),this.settings.cropperStaticHeight&&this.settings.cropperStaticWidth&&this.settings.setOptions({hideResizeSquares:!0,cropperMinWidth:this.settings.cropperStaticWidth,cropperMinHeight:this.settings.cropperStaticHeight,cropperMaxHeight:this.settings.cropperStaticHeight,cropperMaxWidth:this.settings.cropperStaticWidth,maintainAspectRatio:!1})}onChangesInputImage(t){(t.imageChangedEvent||t.imageURL||t.imageBase64||t.imageFile)&&this.reset(),t.imageChangedEvent&&this.isValidImageChangedEvent()&&this.loadImageFile(this.imageChangedEvent.target.files[0]),t.imageURL&&this.imageURL&&this.loadImageFromURL(this.imageURL),t.imageBase64&&this.imageBase64&&this.loadBase64Image(this.imageBase64),t.imageFile&&this.imageFile&&this.loadImageFile(this.imageFile)}isValidImageChangedEvent(){return this.imageChangedEvent&&this.imageChangedEvent.target&&this.imageChangedEvent.target.files&&this.imageChangedEvent.target.files.length>0}setCssTransform(){this.safeTransformStyle=this.sanitizer.bypassSecurityTrustStyle("scaleX("+(this.transform.scale||1)*(this.transform.flipH?-1:1)+")scaleY("+(this.transform.scale||1)*(this.transform.flipV?-1:1)+")rotate("+(this.transform.rotate||0)+"deg)")}ngOnInit(){this.settings.stepSize=this.initialStepSize,this.activatePinchGesture()}reset(){this.imageVisible=!1,this.loadedImage=null,this.safeImgDataUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",this.moveStart={active:!1,type:null,position:null,x1:0,y1:0,x2:0,y2:0,clientX:0,clientY:0},this.maxSize={width:0,height:0},this.cropper.x1=-100,this.cropper.y1=-100,this.cropper.x2=1e4,this.cropper.y2=1e4}loadImageFile(t){this.loadImageService.loadImageFile(t,this.settings).then(i=>this.setLoadedImage(i)).catch(i=>this.loadImageError(i))}loadBase64Image(t){this.loadImageService.loadBase64Image(t,this.settings).then(i=>this.setLoadedImage(i)).catch(i=>this.loadImageError(i))}loadImageFromURL(t){this.loadImageService.loadImageFromURL(t,this.settings).then(i=>this.setLoadedImage(i)).catch(i=>this.loadImageError(i))}setLoadedImage(t){this.loadedImage=t,this.safeImgDataUrl=this.sanitizer.bypassSecurityTrustResourceUrl(t.transformed.base64),this.cd.markForCheck()}loadImageError(t){console.error(t),this.loadImageFailed.emit()}imageLoadedInView(){null!=this.loadedImage&&(this.imageLoaded.emit(this.loadedImage),this.setImageMaxSizeRetries=0,setTimeout(()=>this.checkImageMaxSizeRecursively()))}checkImageMaxSizeRecursively(){this.setImageMaxSizeRetries>40?this.loadImageFailed.emit():this.sourceImageLoaded()?(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.resetCropperPosition(),this.cropperReady.emit(Object.assign({},this.maxSize)),this.cd.markForCheck()):(this.setImageMaxSizeRetries++,setTimeout(()=>this.checkImageMaxSizeRecursively(),50))}sourceImageLoaded(){return this.sourceImage&&this.sourceImage.nativeElement&&this.sourceImage.nativeElement.offsetWidth>0}onResize(){!this.loadedImage||(this.resizeCropperPosition(),this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize())}activatePinchGesture(){if(this.Hammer){const t=new this.Hammer(this.wrapper.nativeElement);t.get("pinch").set({enable:!0}),t.on("pinchmove",this.onPinch.bind(this)),t.on("pinchend",this.pinchStop.bind(this)),t.on("pinchstart",this.startPinch.bind(this))}else(0,e.X6Q)()&&console.warn("[NgxImageCropper] Could not find HammerJS - Pinch Gesture won't work")}resizeCropperPosition(){const t=this.sourceImage.nativeElement;(this.maxSize.width!==t.offsetWidth||this.maxSize.height!==t.offsetHeight)&&(this.cropper.x1=this.cropper.x1*t.offsetWidth/this.maxSize.width,this.cropper.x2=this.cropper.x2*t.offsetWidth/this.maxSize.width,this.cropper.y1=this.cropper.y1*t.offsetHeight/this.maxSize.height,this.cropper.y2=this.cropper.y2*t.offsetHeight/this.maxSize.height)}resetCropperPosition(){this.cropperPositionService.resetCropperPosition(this.sourceImage,this.cropper,this.settings),this.doAutoCrop(),this.imageVisible=!0}keyboardAccess(t){this.changeKeyboardStepSize(t),this.keyboardMoveCropper(t)}changeKeyboardStepSize(t){t.key>="1"&&t.key<="9"&&(this.settings.stepSize=+t.key)}keyboardMoveCropper(t){if(!["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t.key))return;const n=t.shiftKey?W.Resize:W.Move,a=t.altKey?function(o){switch(o){case"ArrowUp":return"bottom";case"ArrowRight":return"left";case"ArrowDown":return"top";case"ArrowLeft":default:return"right"}}(t.key):function(o){switch(o){case"ArrowUp":return"top";case"ArrowRight":return"right";case"ArrowDown":return"bottom";case"ArrowLeft":default:return"left"}}(t.key),s=function(o,r){switch(o){case"ArrowUp":return{clientX:0,clientY:-1*r};case"ArrowRight":return{clientX:r,clientY:0};case"ArrowDown":return{clientX:0,clientY:r};case"ArrowLeft":default:return{clientX:-1*r,clientY:0}}}(t.key,this.settings.stepSize);t.preventDefault(),t.stopPropagation(),this.startMove({clientX:0,clientY:0},n,a),this.moveImg(s),this.moveStop()}startMove(t,i,n=null){this.moveStart&&this.moveStart.active&&this.moveStart.type===W.Pinch||(t.preventDefault&&t.preventDefault(),this.moveStart=Object.assign({active:!0,type:i,position:n,clientX:this.cropperPositionService.getClientX(t),clientY:this.cropperPositionService.getClientY(t)},this.cropper))}startPinch(t){!this.safeImgDataUrl||(t.preventDefault&&t.preventDefault(),this.moveStart=Object.assign({active:!0,type:W.Pinch,position:"center",clientX:this.cropper.x1+(this.cropper.x2-this.cropper.x1)/2,clientY:this.cropper.y1+(this.cropper.y2-this.cropper.y1)/2},this.cropper))}moveImg(t){this.moveStart.active&&(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),this.moveStart.type===W.Move?(this.cropperPositionService.move(t,this.moveStart,this.cropper),this.checkCropperPosition(!0)):this.moveStart.type===W.Resize&&(!this.cropperStaticWidth&&!this.cropperStaticHeight&&this.cropperPositionService.resize(t,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1)),this.cd.detectChanges())}onPinch(t){this.moveStart.active&&(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),this.moveStart.type===W.Pinch&&(this.cropperPositionService.resize(t,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1)),this.cd.detectChanges())}setMaxSize(){if(this.sourceImage){const t=this.sourceImage.nativeElement;this.maxSize.width=t.offsetWidth,this.maxSize.height=t.offsetHeight,this.marginLeft=this.sanitizer.bypassSecurityTrustStyle("calc(50% - "+this.maxSize.width/2+"px)")}}setCropperScaledMinSize(){this.loadedImage&&this.loadedImage.transformed&&this.loadedImage.transformed.image?(this.setCropperScaledMinWidth(),this.setCropperScaledMinHeight()):(this.settings.cropperScaledMinWidth=20,this.settings.cropperScaledMinHeight=20)}setCropperScaledMinWidth(){this.settings.cropperScaledMinWidth=this.cropperMinWidth>0?Math.max(20,this.cropperMinWidth/this.loadedImage.transformed.image.width*this.maxSize.width):20}setCropperScaledMinHeight(){this.settings.cropperScaledMinHeight=this.maintainAspectRatio?Math.max(20,this.settings.cropperScaledMinWidth/this.aspectRatio):this.cropperMinHeight>0?Math.max(20,this.cropperMinHeight/this.loadedImage.transformed.image.height*this.maxSize.height):20}setCropperScaledMaxSize(){if(this.loadedImage&&this.loadedImage.transformed&&this.loadedImage.transformed.image){const t=this.loadedImage.transformed.size.width/this.maxSize.width;this.settings.cropperScaledMaxWidth=this.cropperMaxWidth>20?this.cropperMaxWidth/t:this.maxSize.width,this.settings.cropperScaledMaxHeight=this.cropperMaxHeight>20?this.cropperMaxHeight/t:this.maxSize.height,this.maintainAspectRatio&&(this.settings.cropperScaledMaxWidth>this.settings.cropperScaledMaxHeight*this.aspectRatio?this.settings.cropperScaledMaxWidth=this.settings.cropperScaledMaxHeight*this.aspectRatio:this.settings.cropperScaledMaxWidth<this.settings.cropperScaledMaxHeight*this.aspectRatio&&(this.settings.cropperScaledMaxHeight=this.settings.cropperScaledMaxWidth/this.aspectRatio))}else this.settings.cropperScaledMaxWidth=this.maxSize.width,this.settings.cropperScaledMaxHeight=this.maxSize.height}checkCropperPosition(t=!1){this.cropper.x1<0&&(this.cropper.x2-=t?this.cropper.x1:0,this.cropper.x1=0),this.cropper.y1<0&&(this.cropper.y2-=t?this.cropper.y1:0,this.cropper.y1=0),this.cropper.x2>this.maxSize.width&&(this.cropper.x1-=t?this.cropper.x2-this.maxSize.width:0,this.cropper.x2=this.maxSize.width),this.cropper.y2>this.maxSize.height&&(this.cropper.y1-=t?this.cropper.y2-this.maxSize.height:0,this.cropper.y2=this.maxSize.height)}moveStop(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}pinchStop(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}doAutoCrop(){this.autoCrop&&this.crop()}crop(){if(this.sourceImage&&this.sourceImage.nativeElement&&null!=this.loadedImage.transformed.image){this.startCropImage.emit();const t=this.cropService.crop(this.sourceImage,this.loadedImage,this.cropper,this.settings);return null!=t&&this.imageCropped.emit(t),t}return null}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(qe),e.Y36(Ge),e.Y36(je),e.Y36(Ue.H7),e.Y36(e.sBO))},o.\u0275cmp=e.Xpm({type:o,selectors:[["image-cropper"]],viewQuery:function(t,i){if(1&t&&(e.Gf(ze,7),e.Gf(De,5)),2&t){let n;e.iGM(n=e.CRH())&&(i.wrapper=n.first),e.iGM(n=e.CRH())&&(i.sourceImage=n.first)}},hostVars:4,hostBindings:function(t,i){1&t&&e.NdJ("resize",function(){return i.onResize()},!1,e.Jf7)("mousemove",function(a){return i.moveImg(a)},!1,e.evT)("touchmove",function(a){return i.moveImg(a)},!1,e.evT)("mouseup",function(){return i.moveStop()},!1,e.evT)("touchend",function(){return i.moveStop()},!1,e.evT),2&t&&(e.Udp("text-align",i.alignImage),e.ekj("disabled",i.disabled))},inputs:{format:"format",transform:"transform",maintainAspectRatio:"maintainAspectRatio",aspectRatio:"aspectRatio",resizeToWidth:"resizeToWidth",resizeToHeight:"resizeToHeight",cropperMinWidth:"cropperMinWidth",cropperMinHeight:"cropperMinHeight",cropperMaxHeight:"cropperMaxHeight",cropperMaxWidth:"cropperMaxWidth",cropperStaticWidth:"cropperStaticWidth",cropperStaticHeight:"cropperStaticHeight",canvasRotation:"canvasRotation",initialStepSize:"initialStepSize",roundCropper:"roundCropper",onlyScaleDown:"onlyScaleDown",imageQuality:"imageQuality",autoCrop:"autoCrop",backgroundColor:"backgroundColor",containWithinAspectRatio:"containWithinAspectRatio",hideResizeSquares:"hideResizeSquares",cropper:"cropper",alignImage:"alignImage",disabled:"disabled",imageChangedEvent:"imageChangedEvent",imageURL:"imageURL",imageBase64:"imageBase64",imageFile:"imageFile"},outputs:{imageCropped:"imageCropped",startCropImage:"startCropImage",imageLoaded:"imageLoaded",cropperReady:"cropperReady",loadImageFailed:"loadImageFailed"},features:[e.TTD],decls:5,vars:10,consts:[["wrapper",""],["class","source-image",3,"src","visibility","transform","load",4,"ngIf"],[1,"overlay"],["class","cropper","tabindex","0",3,"rounded","top","left","width","height","margin-left","visibility","keydown",4,"ngIf"],[1,"source-image",3,"src","load"],["sourceImage",""],["tabindex","0",1,"cropper",3,"keydown"],[1,"move",3,"mousedown","touchstart"],[4,"ngIf"],[1,"resize","topleft",3,"mousedown","touchstart"],[1,"square"],[1,"resize","top"],[1,"resize","topright",3,"mousedown","touchstart"],[1,"resize","right"],[1,"resize","bottomright",3,"mousedown","touchstart"],[1,"resize","bottom"],[1,"resize","bottomleft",3,"mousedown","touchstart"],[1,"resize","left"],[1,"resize-bar","top",3,"mousedown","touchstart"],[1,"resize-bar","right",3,"mousedown","touchstart"],[1,"resize-bar","bottom",3,"mousedown","touchstart"],[1,"resize-bar","left",3,"mousedown","touchstart"]],template:function(t,i){1&t&&(e.TgZ(0,"div",null,0),e.YNc(2,ke,2,5,"img",1),e._UZ(3,"div",2),e.YNc(4,Ne,3,15,"div",3),e.qZA()),2&t&&(e.Udp("background",i.imageVisible&&i.backgroundColor),e.xp6(2),e.Q6J("ngIf",i.safeImgDataUrl),e.xp6(1),e.Udp("width",i.maxSize.width,"px")("height",i.maxSize.height,"px")("margin-left","center"===i.alignImage?i.marginLeft:null),e.xp6(1),e.Q6J("ngIf",i.imageVisible))},directives:[m.O5],styles:['[_nghost-%COMP%]{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{width:100%;position:relative}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.source-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;transform-origin:center}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color,#fff) solid 100vw;top:0;left:0}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]{position:absolute;display:flex;color:#53535c;background:0 0;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color,rgba(255,255,255,.3)) solid 100vw;touch-action:none}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]:after{position:absolute;content:"";top:0;bottom:0;left:0;right:0;pointer-events:none;border:1px dashed;opacity:.75;color:inherit;z-index:1}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%]{width:100%;cursor:move;border:1px solid rgba(255,255,255,.5)}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]:focus   .move[_ngcontent-%COMP%]{border-color:#1e90ff;border-width:2px}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize[_ngcontent-%COMP%]{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize[_ngcontent-%COMP%]   .square[_ngcontent-%COMP%]{display:inline-block;background:#53535c;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.topleft[_ngcontent-%COMP%]{top:-12px;left:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.top[_ngcontent-%COMP%]{top:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.topright[_ngcontent-%COMP%]{top:-12px;right:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.right[_ngcontent-%COMP%]{top:calc(50% - 12px);right:-12px;cursor:ew-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.bottomright[_ngcontent-%COMP%]{bottom:-12px;right:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.bottom[_ngcontent-%COMP%]{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.bottomleft[_ngcontent-%COMP%]{bottom:-12px;left:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.left[_ngcontent-%COMP%]{top:calc(50% - 12px);left:-12px;cursor:ew-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.top[_ngcontent-%COMP%]{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.right[_ngcontent-%COMP%]{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.bottom[_ngcontent-%COMP%]{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.left[_ngcontent-%COMP%]{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw rgba(255,255,255,.3);box-shadow:0 0 0 100vw var(--cropper-outline-color,rgba(255,255,255,.3))}@media (orientation:portrait){[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]{outline-width:100vh}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh rgba(255,255,255,.3);box-shadow:0 0 0 100vh var(--cropper-outline-color,rgba(255,255,255,.3))}}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar[_ngcontent-%COMP%]{display:none}'],changeDetection:0}),o})(),tt=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[m.ez]]}),o})();function it(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"image-cropper",12),e.NdJ("imageCropped",function(n){return e.CHM(t),e.oxw().imageCropped(n)})("imageLoaded",function(n){return e.CHM(t),e.oxw().imageLoaded(n)})("cropperReady",function(){return e.CHM(t),e.oxw().cropperReady()})("loadImageFailed",function(){return e.CHM(t),e.oxw().loadImageFailed()}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("imageBase64",t.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",t.ratio)("roundCropper",1===t.ratio)}}let nt=(()=>{class o{constructor(t,i,n,a,s,c){this.data=t,this.childService=i,this.userService=n,this.toastr=a,this.translate=s,this.dialogRef=c,this.croppedImage="",this.isSending=!1,this.imageChangedEvent="",this.serviceFunctionName="",this.ratio=1,this.imageChangedEvent=this.data.imageChangedEvent,this.serviceFunctionName=this.data.serviceFunctionName,this.ratio=this.data.ratio||this.ratio,this.data.imageChangedEvent||(this.submit(),this.dialogRef.close())}submit(){this.isSending=!0,this.childService[this.serviceFunctionName](this.userService.selectedChild,this.croppedImage).pipe((0,M.q)(1)).subscribe(t=>{this.isSending=!1,this.userService.selectedChild=t,this.toastr.success(this.translate.instant("profile.file_upload.profile_pic_updated")),this.dialogRef.close(t)})}imageCropped(t){this.croppedImage=t.base64}imageLoaded(t){console.log("IMAGE LOADED")}cropperReady(){}loadImageFailed(){console.log("IMAGE LOAD FAILED")}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(y.WI),e.Y36(P),e.Y36(U.K),e.Y36(A._),e.Y36(v.sK),e.Y36(y.so))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-file-upload"]],decls:17,vars:11,consts:[["dialog-header",""],["dialog-content","",1,"dialog-content","medium"],[1,"d-flex","wrap","align-items-center"],[1,"col-xs-12","col-sm-6"],[1,"d-flex","justify-between"],["class","section-2","format","png",3,"imageBase64","maintainAspectRatio","aspectRatio","roundCropper","imageCropped","imageLoaded","cropperReady","loadImageFailed",4,"ngIf"],[1,"section-2","d-flex","flex-direction-column","justify-center"],[1,"heading-2"],[1,"image",3,"src"],[1,"clearfix"],["dialog-actions","",1,"dialog-footer","d-flex"],["buttonType","primary",3,"submitting","text","click"],["format","png",1,"section-2",3,"imageBase64","maintainAspectRatio","aspectRatio","roundCropper","imageCropped","imageLoaded","cropperReady","loadImageFailed"]],template:function(t,i){1&t&&(e.TgZ(0,"ae-dialog"),e.TgZ(1,"h2",0),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",1),e.TgZ(5,"div",2),e.TgZ(6,"div",3),e.TgZ(7,"div",4),e.YNc(8,it,1,4,"image-cropper",5),e.TgZ(9,"div",6),e.TgZ(10,"h2",7),e._uU(11,"Image preview"),e.qZA(),e._UZ(12,"img",8),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(13,"div",9),e.qZA(),e.TgZ(14,"div",10),e.TgZ(15,"ae-button",11),e.NdJ("click",function(){return i.submit()}),e.ALo(16,"translate"),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.hij(" ",e.lcZ(3,7,"profile.file_upload.title")," "),e.xp6(6),e.Q6J("ngIf",i.imageChangedEvent),e.xp6(4),e.ekj("rounded",1===i.ratio),e.Q6J("src",i.croppedImage,e.LSH),e.xp6(3),e.Q6J("submitting",i.isSending)("text",e.lcZ(16,9,"dialog.save")))},directives:[R.a,m.O5,N.r,et],pipes:[v.X$],styles:["image-cropper[_ngcontent-%COMP%]{max-height:200px}.heading-2[_ngcontent-%COMP%]{font-size:1rem;text-align:center}.image[_ngcontent-%COMP%]{width:100px;margin:0 auto;text-align:center;border:3px solid rgba(0,0,0,.1)}.image.rounded[_ngcontent-%COMP%]{border-radius:50%}"]}),o})();var D=(()=>{return(o=D||(D={})).BreastFeed="breastfeed",o.Food="food",o.Achievement="achievement",o.Measurement="measurement",o.Sleep="sleep",o.Diaper="diaper",D;var o})();let ot=(()=>{class o{constructor(t,i){this.http=t,this.userService=i,this.baseUrl=b.N.baseUrl}getProfile(t){return this.http.post(`${this.baseUrl}/child/${this.userService.selectedChild._id}/profile`,{date:t})}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(T.eN),e.LFG(U.K))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var at=l(8555),rt=l(6447),st=l(205),ct=l(5304),lt=l(5830),dt=l(5780),xe=l(2613);function pt(o,r){if(1&o&&(e.TgZ(0,"mat-radio-button",2),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}let ht=(()=>{class o{constructor(){this.inline=!1}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["ae-radio"]],inputs:{control:"control",values:"values",inline:"inline"},decls:2,vars:4,consts:[["name","flavors",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-radio-group",0),e.YNc(1,pt,2,2,"mat-radio-button",1),e.qZA()),2&t&&(e.ekj("inline",i.inline),e.Q6J("formControl",i.control),e.xp6(1),e.Q6J("ngForOf",i.values))},directives:[xe.VQ,C.JJ,C.oH,m.sg,xe.U0],styles:["mat-radio-group[_ngcontent-%COMP%]{margin-bottom:12px;display:flex}mat-radio-group[_ngcontent-%COMP%]:not(.inline){display:block}mat-radio-group[_ngcontent-%COMP%]   mat-radio-button[_ngcontent-%COMP%]{display:block}mat-radio-group[_ngcontent-%COMP%]   mat-radio-button[_ngcontent-%COMP%]:not(:last-child){margin-bottom:8px;margin-right:12px}"]}),o})(),mt=(()=>{class o{constructor(t,i,n,a,s,c,u){var h,g,f;this.data=t,this.dialogRef=i,this.fb=n,this.translate=a,this.userService=s,this.diaperService=c,this.toastr=u,this.submitting=!1,this.diaperOptionMapper=[{translatedVal:this.translate.instant("diaper_page.type.wet"),val:"wet"},{translatedVal:this.translate.instant("diaper_page.type.dry"),val:"dry"},{translatedVal:this.translate.instant("diaper_page.type.mixed"),val:"mixed"}],this.diaperOptions=this.diaperOptionMapper.map(Z=>Z.translatedVal),this.diaper=this.data.diaper;const x=(0,_._3)(this.diaper?new Date(this.diaper.date).toString():(new Date).toString(),!0);this.diaperFG=this.fb.group({child_id:this.userService.selectedChild._id,_id:null===(h=this.diaper)||void 0===h?void 0:h._id,date:[null!==(f=null===(g=this.diaper)||void 0===g?void 0:g.date)&&void 0!==f?f:(0,_._3)((new Date).toString(),!1),C.kI.required],time:[x.slice(x.length-5,x.length),C.kI.required],type:[this.diaper?this.diaperOptionMapper.find(Z=>Z.val===this.diaper.type).translatedVal:"",C.kI.required]})}ngOnInit(){}submit(){if(this.diaperFG.invalid)return void(0,lt.E)(this.diaperFG);this.submitting=!0;const t=this.diaper?"update":"create",i=this.diaperFG.value;i.type=this.diaperOptionMapper.find(n=>n.translatedVal===i.type).val,i.date=`${(0,_._3)(new Date(i.date).toString(),!1)} ${i.time}`,this.diaperService[t](i).pipe((0,M.q)(1),(0,ct.K)(()=>(this.submitting=!1,(0,st._)("UNABLE_TO_ADD_DIAPER")))).subscribe(n=>{this.toastr.success(this.translate.instant(`diaper_page.modal.${this.diaper?"edit":"create"}_toastr`)),this.submitting=!1,this.dialogRef.close(n)})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(y.WI),e.Y36(y.so),e.Y36(C.qu),e.Y36(v.sK),e.Y36(U.K),e.Y36(Ce),e.Y36(A._))},o.\u0275cmp=e.Xpm({type:o,selectors:[["ae-add-or-edit-diaper"]],decls:11,vars:13,consts:[["dialog-content",""],[3,"form"],[1,"d-flex","date-time","justify-between"],[3,"control"],[3,"label","control"],[3,"values","inline","control"],["dialog-actions",""],[3,"submitting","text","click"]],template:function(t,i){1&t&&(e.TgZ(0,"ae-dialog"),e.ynx(1,0),e.TgZ(2,"ae-form",1),e.TgZ(3,"div",2),e._UZ(4,"ae-datepicker",3),e._UZ(5,"ae-timepicker",4),e.ALo(6,"translate"),e.qZA(),e._UZ(7,"ae-radio",5),e.qZA(),e.BQk(),e.ynx(8,6),e.TgZ(9,"ae-button",7),e.NdJ("click",function(){return i.submit()}),e.ALo(10,"translate"),e.qZA(),e.BQk(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("form",i.diaperFG),e.xp6(2),e.Q6J("control",i.diaperFG.get("date")),e.xp6(1),e.Q6J("label",e.lcZ(6,9,"time"))("control",i.diaperFG.get("time")),e.xp6(2),e.Q6J("values",i.diaperOptions)("inline",!0)("control",i.diaperFG.get("type")),e.xp6(2),e.Q6J("submitting",i.submitting)("text",e.lcZ(10,11,i.diaper?"dialog.save":"dialog.create")))},directives:[R.a,J.U,q.Q,dt.E,ht,N.r],pipes:[v.X$],styles:[""]}),o})(),Ce=(()=>{class o{constructor(t,i,n,a){this.http=t,this.userService=i,this.translate=n,this.dialog=a,this.baseUrl=b.N.baseUrl}getAll(){return this.http.get(`${this.baseUrl}/child/${this.userService.selectedChild._id}/diaper`)}update(t){return this.http.put(`${this.baseUrl}/child/${this.userService.selectedChild._id}/diaper/${t._id}`,t)}delete(t){return this.http.delete(`${this.baseUrl}/child/${this.userService.selectedChild._id}/diaper/${t._id}`)}create(t){return this.http.post(`${this.baseUrl}/child/${this.userService.selectedChild._id}/diaper`,t)}addOrEdit(t){return this.dialog.open(mt,{data:{diaper:t,primaryLabel:"",size:"md",title:this.translate.instant(`diaper_page.modal.${t?"edit":"add"}_title`)}})}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(T.eN),e.LFG(U.K),e.LFG(v.sK),e.LFG(y.uw))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const ut=["fileUpload"];function gt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"ae-button",5),e.NdJ("click",function(){return e.CHM(t),e.oxw().changeImage()}),e.qZA()}2&o&&e.Q6J("full",!0)}function ft(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",6),e.NdJ("click",function(){return e.CHM(t),e.oxw().changeImage()}),e.Hsn(1),e.qZA()}}const _t=["*"];let vt=(()=>{class o{constructor(){this.customTrigger=!1,this.imageChanged=new e.vpe(null)}ngOnInit(){}changeImage(){this.fileInput.nativeElement.click(),this.fileInput.nativeElement.value=""}thumbnailChanged(t){const i=new FileReader;i.onload=n=>{this.control.patchValue(n.target.result),this.imageChanged.emit(n.target.result)},i.readAsDataURL(t[0])}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["ae-file-upload"]],viewQuery:function(t,i){if(1&t&&e.Gf(ut,5),2&t){let n;e.iGM(n=e.CRH())&&(i.fileInput=n.first)}},inputs:{control:"control",customTrigger:"customTrigger"},outputs:{imageChanged:"imageChanged"},ngContentSelectors:_t,decls:6,vars:2,consts:[[1,"thumbnail","d-flex","w100","h100"],["text","Select thumbnail","buttonType","secondary",3,"full","click",4,"ngIf","ngIfElse"],["customTriggerSection",""],["type","file","accept","image/png, image/jpg",3,"change"],["fileUpload",""],["text","Select thumbnail","buttonType","secondary",3,"full","click"],[1,"d-flex","w100","h100",3,"click"]],template:function(t,i){if(1&t&&(e.F$t(),e.TgZ(0,"div",0),e.YNc(1,gt,1,1,"ae-button",1),e.YNc(2,ft,2,0,"ng-template",null,2,e.W1O),e.TgZ(4,"input",3,4),e.NdJ("change",function(a){return i.thumbnailChanged(a.target.files)}),e.qZA(),e.qZA()),2&t){const n=e.MAs(3);e.xp6(1),e.Q6J("ngIf",!i.customTrigger)("ngIfElse",n)}},directives:[m.O5,N.r],styles:[".thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:4px solid #ccc;margin:12px auto 0;max-width:300px}.thumbnail[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}"]}),o})(),xt=(()=>{class o{constructor(t){this.translate=t}transform(t){const i=new Date(t).getTime();let a=((new Date).getTime()-i)/1e3,s="",c=5;const u=this.translate.instant("and");for(;a>=0&&c>=0;){if(a<86400&&!s)s+=`0 ${this.translate.instant("days")}`,a-=86400;else if(a<2629743){const h=Math.floor(a/86400);if(0===h)return s;s+=`${s?` ${u} `:""}${h} ${this.translate.instant("day"+(h>1?"s":""))}`,a-=86400*h}else if(a<31556926){const h=Math.floor(a/2629743);s+=`${s?` ${u} `:""}${h} ${this.translate.instant("month"+(h>1?"s":""))}`,a-=2629743*h}else{const h=Math.floor(a/31556926);s+=`${h} ${this.translate.instant("year"+(h>1?"s":""))}`,a-=31556926*h}c--}return s}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(v.sK,16))},o.\u0275pipe=e.Yjl({name:"age",type:o,pure:!0}),o})();function Ct(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",43),e.TgZ(1,"div",44),e.TgZ(2,"div",45),e.TgZ(3,"ae-file-upload",46),e.NdJ("imageChanged",function(n){return e.CHM(t),e.oxw().changeImageByType(n,"cover")}),e._UZ(4,"ae-icon-button",47),e.qZA(),e.TgZ(5,"ae-icon-button",48),e.NdJ("click",function(){return e.CHM(t),e.oxw().changeImageByType("","cover")}),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(3),e.Q6J("customTrigger",!0)("control",t.childFG.get("coverPicture"))}}function Mt(o,r){1&o&&(e.TgZ(0,"div"),e.TgZ(1,"div",51),e._UZ(2,"ae-icon-button",52),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(4),e.hij(" ",e.lcZ(5,1,"profile_page.add_cover")," "))}function At(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"ae-file-upload",49),e.NdJ("imageChanged",function(n){return e.CHM(t),e.oxw().changeImageByType(n,"cover")}),e.TgZ(1,"div",50),e.YNc(2,Mt,6,3,"div",40),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("customTrigger",!0)("control",t.childFG.get("coverPicture")),e.xp6(2),e.Q6J("ngIf",!t.selectedChild.coverPicture)}}function bt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",53),e.TgZ(1,"div",54),e.TgZ(2,"ae-file-upload",49),e.NdJ("imageChanged",function(n){return e.CHM(t),e.oxw().changeImageByType(n,"profile")}),e._UZ(3,"ae-icon",55),e.ALo(4,"translate"),e.ALo(5,"translate"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.qZA(),e.TgZ(8,"div",56),e.NdJ("click",function(){return e.CHM(t),e.oxw().changeImageByType("","profile")}),e._UZ(9,"ae-icon",57),e.ALo(10,"translate"),e.ALo(11,"translate"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("@slideInOut",void 0),e.xp6(2),e.Q6J("customTrigger",!0)("control",t.childFG.get("profilePicture")),e.xp6(1),e.uIk("aria-roledescription",e.lcZ(4,9,"profile_page.change_profile_picture"))("aria-label",e.lcZ(5,11,"profile_page.change_profile_picture")),e.xp6(3),e.hij(" ",e.lcZ(7,13,"profile_page.change_profile_picture")," "),e.xp6(3),e.uIk("aria-roledescription",e.lcZ(10,15,"profile_page.remove_profile_picture"))("aria-label",e.lcZ(11,17,"profile_page.remove_profile_picture")),e.xp6(3),e.hij(" ",e.lcZ(13,19,"profile_page.remove_profile_picture")," ")}}function yt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"img",58),e.NdJ("click",function(){return e.CHM(t),e.oxw().showSelection("profile-image")}),e.qZA()}if(2&o){const t=e.oxw();e.MGl("alt","Profile picture of ",t.selectedChild.name,""),e.uIk("src",t.selectedChild.profilePicture,e.LSH)}}function Tt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"ae-file-upload",59),e.NdJ("imageChanged",function(n){return e.CHM(t),e.oxw().changeImageByType(n,"profile")}),e.ALo(1,"translate"),e._UZ(2,"ae-icon",60),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("customTrigger",!0)("control",t.childFG.get("profilePicture")),e.uIk("aria-label",e.lcZ(1,3,"profile_page.add_profile"))}}function Zt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",53),e.TgZ(1,"div",56),e.NdJ("click",function(){return e.CHM(t),e.oxw().addChildModal(!0)}),e._UZ(2,"ae-icon-button",61),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.qZA(),e.TgZ(6,"div",56),e.NdJ("click",function(){return e.CHM(t),e.oxw().deleteChildModal()}),e._UZ(7,"ae-icon-button",62),e.TgZ(8,"span"),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.qZA(),e.qZA()}2&o&&(e.Q6J("@slideInOut",void 0),e.xp6(4),e.hij(" ",e.lcZ(5,3,"profile_page.edit_child_details")," "),e.xp6(5),e.hij(" ",e.lcZ(10,5,"profile_page.delete_child")," "))}function St(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",66),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw(2).selectChild(a)}),e._uU(1),e.qZA()}if(2&o){const t=r.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function Ot(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",53),e.YNc(1,St,2,1,"div",63),e.TgZ(2,"a",64),e.NdJ("click",function(){return e.CHM(t),e.oxw().addChildModal()}),e._UZ(3,"ae-icon-button",65),e.TgZ(4,"span"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("@slideInOut",void 0),e.xp6(1),e.Q6J("ngForOf",t.children),e.xp6(4),e.hij(" ",e.lcZ(6,3,"profile_page.add_child")," ")}}function wt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",53),e.TgZ(1,"div",66),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return n.openMeasureModal(n.measurementType.Weight)}),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",66),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return n.openMeasureModal(n.measurementType.Height)}),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",66),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return n.openMeasureModal(n.measurementType.HeadCirc)}),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.qZA()}2&o&&(e.Q6J("@slideInOut",void 0),e.xp6(2),e.hij(" ",e.lcZ(3,4,"weight")," "),e.xp6(3),e.hij(" ",e.lcZ(6,6,"length")," "),e.xp6(3),e.hij(" ",e.lcZ(9,8,"headCirc")," "))}function It(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",53),e.TgZ(1,"div",66),e.NdJ("click",function(){return e.CHM(t),e.oxw().openBreastFeedModal()}),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",66),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return n.openFoodModal(n.foodType.Substitution)}),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",66),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return n.openFoodModal(n.foodType.Supplement)}),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"div",66),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return n.openFoodModal(n.foodType.Pump)}),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.qZA()}2&o&&(e.Q6J("@slideInOut",void 0),e.xp6(2),e.hij(" ",e.lcZ(3,5,"food_type.breast_feed")," "),e.xp6(3),e.hij(" ",e.lcZ(6,7,"food_type.substitution")," "),e.xp6(3),e.hij(" ",e.lcZ(9,9,"food_type.supplement")," "),e.xp6(3),e.hij(" ",e.lcZ(12,11,"food_type.pump")," "))}function Pt(o,r){1&o&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"yesterday")," "))}function Et(o,r){1&o&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"today")," "))}function Ft(o,r){if(1&o&&(e.ynx(0),e._uU(1),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Oqu(t.visibleDay)}}function Rt(o,r){1&o&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"profile_page.no_activity")," "))}function Ut(o,r){1&o&&(e.TgZ(0,"div"),e._uU(1,"Loading..."),e.qZA())}function zt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",67),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw().editProfileItem(a)}),e.TgZ(1,"div",68),e._UZ(2,"ae-icon",69),e.qZA(),e.TgZ(3,"div",70),e.TgZ(4,"h2"),e._uU(5),e.qZA(),e.TgZ(6,"p"),e._uU(7),e.ALo(8,"date"),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=r.$implicit;e.xp6(1),e.Q6J("ngClass",t.className),e.xp6(1),e.Q6J("iconName",t.iconName),e.xp6(3),e.Oqu(t.name),e.xp6(2),e.Oqu(e.xi3(8,4,t.date,"HH:mm"))}}function Dt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",71),e.NdJ("click",function(){return e.CHM(t),e.oxw().showSelection(null)}),e.qZA()}}const kt=function(o){return{"background-image":o}},Lt=[{path:"",component:(()=>{class o{constructor(t,i,n,a,s,c,u,h,g,f,x){this.fb=t,this.profileService=i,this.translate=n,this.achievementService=a,this.measureService=s,this.sleepService=c,this.dialog=u,this.diaperService=h,this.userService=g,this.childService=f,this.toastr=x,this.name="Sebastian",this.kidName="Alessa",this.isEdit=!1,this.groupedItems=[],this.dateFC=new C.NI(new Date),this.visibleDay="",this.today="",this.yesterday="",this.currSelection="",this.foodType=X.S,this.measurementType=Fe.R,this.refetch$=new se.X(null),this.childFG=this.fb.group({name:[this.userService.selectedChild.name],dob:[this.userService.selectedChild.dob],profilePicture:[this.userService.selectedChild.profilePicture],coverPicture:[this.userService.selectedChild.coverPicture]}),this.userService.selectedChild$.pipe((0,$.x)(),(0,Oe.b)(300)).subscribe(()=>this.refetch$.next()),this.children=this.userService.children,this.achievementService.getAll().pipe((0,M.q)(1)).subscribe(S=>{this.allAchievements=S});const Z=new Date;this.today=(0,_._3)(Z.toString(),!1),Z.setDate(Z.getDate()-1),this.yesterday=(0,_._3)(Z.toString(),!1),this.visibleDay=this.today,this.dateFC.valueChanges.subscribe(S=>{this.visibleDay=(0,_._3)(S,!1),this.refetch$.next()}),this.refetch$.pipe((0,we.zg)(()=>this.profileService.getProfile(this.visibleDay))).subscribe(S=>{this.profileData=S,this.groupItems(S)})}get selectedChild(){return this.userService.selectedChild}changeImageByType(t,i){const n="cover"===i;this.dialog.open(nt,{data:{title:"Change profile",serviceFunctionName:n?"updateCoverPic":"updateProfilePic",imageChangedEvent:t,ratio:n?2.35:1}}).afterClosed().pipe((0,M.q)(1),(0,I.h)(a=>!!a)).subscribe(()=>{this.currSelection=null})}groupItems(t){this.profileDataItems=(0,_.DY)([...this.groupBreastFeedItems(t.breastFeed),...this.groupAchievementItems(t.achievement),...this.groupFoodItems(t.food),...this.groupMeasureItems(t.measurement),...this.groupSleepItems(t.sleep),...this.groupDiaperItems(t.diaper)],"date")}selectChild(t){this.userService.selectedChild=t,this.currSelection=null}groupFoodItems(t){return t.map(i=>{const n=this.translate.instant(`food_type.${i.type}`);return{_id:i._id,name:`${n} - ${i.amount} ml`,type:D.Food,iconName:"restaurant",date:i.date,className:"food"}})||[]}groupAchievementItems(t){return t.map(i=>{const n=this.translate.instant(`achievement.${i.achievement}`);return{_id:i._id,name:`${n}`,type:D.Achievement,iconName:"emoji_events",date:i.date,className:"achievement"}})||[]}groupBreastFeedItems(t){return t.map(i=>{const n=this.translate.instant("food_type.breast_feed");return{_id:i._id,name:`${n} - ${i.leftSideTime+i.rightSideTime} ${this.translate.instant("sec")}`,type:D.BreastFeed,iconName:"restaurant",date:i.date,className:"food"}})||[]}groupMeasureItems(t){return t.map(i=>{const n=i.type?this.translate.instant(i.type):"-";return{_id:i._id,name:`${n} - ${i.measure} ${i.unit}`,type:D.Measurement,iconName:"monitor_weight",date:i.date,className:"measurement"}})||[]}groupSleepItems(t){return t.map(i=>{const n=Math.abs((new Date(i.endDate).getTime()-new Date(i.date).getTime())/1e3),a=(0,_.HV)(n,this.translate),s=`${this.translate.instant("sleep")} - ${this.translate.instant("inprogress")}`;return{_id:i._id,name:i.endDate?this.translate.instant("sleep_page.slept",{time:a}):s,type:D.Sleep,iconName:"crib",date:i.date,className:"sleep",inprogress:!0}})||[]}groupDiaperItems(t){return t.map(i=>{const n=this.translate.instant("diaper_page.diaper"),a=this.translate.instant(`diaper_page.type.${i.type}`);return{_id:i._id,name:`${n} - ${a}`,type:D.Diaper,iconName:"baby_changing_station",date:i.date,className:"pee-poo"}})||[]}openBreastFeedModal(t){this.currSelection=null,this.dialog.open(Pe.i,{data:{size:"md",breastFeed:t,title:this.translate.instant(`breast_feed_page.breast_feed_modal.${t?"edit":"create"}_title`)}}).afterClosed().pipe((0,M.q)(1),(0,I.h)(i=>!!i)).subscribe(i=>{(0,_.fI)(this.profileData.breastFeed,i,"_id"),this.groupItems(this.profileData)})}openFoodModal(t,i){this.currSelection=null,this.dialog.open(Ee.P,{data:{size:"md",food:i,title:this.translate.instant(`food_detail_page.modal.${t}.${i?"edit":"add"}_title`),foodType:t}}).afterClosed().pipe((0,M.q)(1),(0,I.h)(n=>!!n)).subscribe(n=>{(0,_.fI)(this.profileData.food,n,"_id"),this.groupItems(this.profileData)})}openProgressModal(t){this.achievementService.addOrEditAchievement(this.allAchievements,t).afterClosed().pipe((0,M.q)(1),(0,I.h)(i=>!!i)).subscribe(i=>{if(t){const n=this.allAchievements.findIndex(s=>s._id===t._id),a=this.profileData.achievement.findIndex(s=>s._id===t._id);return this.allAchievements[n]=Object.assign({},i),this.profileData.achievement[a]=Object.assign({},i),void this.groupItems(this.profileData)}i&&this.allAchievements.push(i),this.profileData.achievement.push(i),this.groupItems(this.profileData)})}openMeasureModal(t,i){this.measureService.addOrEdit(t,i).afterClosed().pipe((0,M.q)(1),(0,I.h)(n=>!!n)).subscribe(n=>{(0,_.fI)(this.profileData.measurement,n,"_id"),this.groupItems(this.profileData),this.showSelection(null)})}openSleepModal(t){this.sleepService.addOrEdit(t).afterClosed().pipe((0,M.q)(1),(0,I.h)(i=>!!i)).subscribe(i=>{(0,_.fI)(this.profileData.sleep,i,"_id"),this.groupItems(this.profileData),this.showSelection(null)})}openDiaperModal(t){this.diaperService.addOrEdit(t).afterClosed().pipe((0,M.q)(1),(0,I.h)(i=>!!i)).subscribe(i=>{(0,_.fI)(this.profileData.diaper,i,"_id"),this.groupItems(this.profileData),this.showSelection(null)})}changeDay(t){const i=new Date(this.dateFC.value);i.setDate(i.getDate()+t),this.dateFC.patchValue(i)}showSelection(t){this.currSelection=t}editProfileItem(t){switch(t.type){case D.Achievement:const i=this.profileData.achievement.find(h=>h._id===t._id);this.openProgressModal(i);break;case D.Measurement:const n=this.profileData.measurement.find(h=>h._id===t._id);this.openMeasureModal(n.type,n);break;case D.BreastFeed:const a=this.profileData.breastFeed.find(h=>h._id===t._id);this.openBreastFeedModal(a);break;case D.Diaper:const s=this.profileData.diaper.find(h=>h._id===t._id);this.openDiaperModal(s);break;case D.Sleep:const c=this.profileData.sleep.find(h=>h._id===t._id);this.openSleepModal(c);break;default:const u=this.profileData.food.find(h=>h._id===t._id);this.openFoodModal(u.type,u)}}ngOnInit(){}deleteChildModal(){this.dialog.open(R.a,{data:{size:"md",title:"Delete child",content:`Do you really want to delete the child <b>${this.selectedChild.name}</b>?<br><br>This action is not revertable, and all of the child's information will be lost.`,primaryLabel:this.translate.instant("dialog.delete"),callback:this.deleteChild.bind(this)}})}deleteChild(){this.childService.delete(this.selectedChild).pipe((0,M.q)(1)).subscribe(()=>{this.currSelection="",this.userService.children=this.userService.children.filter(t=>t._id!==this.selectedChild._id),this.children=this.userService.children,this.userService.selectedChild=this.userService.children[0],this.toastr.success("Child deleted")})}addChildModal(t=!1){this.dialog.open(K,{data:{editCurrChild:t,size:"md",title:this.translate.instant("add_child_page."+(t?"edit_title":"title"))}}).afterClosed().pipe((0,M.q)(1)).subscribe(i=>{i&&(this.currSelection="",this.childFG.patchValue(i))})}ngOnDestroy(){this.refetch$.complete(),this.refetch$.unsubscribe()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(C.qu),e.Y36(ot),e.Y36(v.sK),e.Y36(d.o),e.Y36(at.D),e.Y36(rt.L),e.Y36(y.uw),e.Y36(Ce),e.Y36(U.K),e.Y36(P),e.Y36(A._))},o.\u0275cmp=e.Xpm({type:o,selectors:[["ae-profile"]],decls:76,vars:47,consts:[[1,"d-flex","justify-between","align-end","ae-header",3,"ngStyle"],["changeOrDeleteCover",""],["class","d-flex w100 h100",3,"customTrigger","control","imageChanged",4,"ngIf","ngIfElse"],["class","sub-action align-center",4,"ngIf"],[1,"ae-card"],[1,"d-flex"],[1,"ae-profile-figure"],["class","ae-profile-image",3,"alt","click",4,"ngIf","ngIfElse"],["noProfile",""],[1,"ae-profile-content","w100"],[1,"d-flex","align-center","justify-between"],["aria-haspopup","menu",1,"d-flex","align-center",3,"click"],[3,"innerText"],["iconName","expand_more"],["iconName","edit",3,"click"],[1,"ae-schedule"],[1,"quick-actions-wrapper"],[1,"d-flex","justify-between","quick-actions"],[1,"quick-action-item","food"],[1,"quick-action-item-icon",3,"click"],["iconSize","32","iconName","restaurant"],[1,"quick-action-item","sleep",3,"click"],[1,"quick-action-item-icon"],["iconSize","32","iconName","crib"],[1,"quick-action-item","pee-poo"],["iconSize","32","iconName","baby_changing_station"],[1,"quick-action-item","measurement",3,"click"],["iconSize","32","iconName","monitor_weight"],[1,"quick-action-item","achievement",3,"click"],["iconSize","32","iconName","emoji_events"],[1,"d-flex","justify-between","align-center"],[1,"d-inline-block",3,"customSelector","control"],[1,"d-flex","align-center"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"arrows"],["iconName","arrow_back",3,"tooltipText","click"],["iconName","arrow_forward",3,"disabled","tooltipText","click"],[1,"ae-progress"],[4,"ngIf"],["class","ae-progress-content d-flex align-center",3,"click",4,"ngFor","ngForOf"],["class","ae-overlay",3,"click",4,"ngIf"],[1,"pull-top-right"],[1,"action-items"],[1,"d-flex","justify-end"],[1,"mr-1",3,"customTrigger","control","imageChanged"],["iconSize","22","iconName","add_a_photo",1,"action-item"],["iconSize","22","iconName","delete",1,"action-item",3,"click"],[1,"d-flex","w100","h100",3,"customTrigger","control","imageChanged"],[1,"d-flex","justify-center","align-center","h100","w100"],[1,"cover-image","d-flex","align-center"],["iconName","add_a_photo"],[1,"sub-action","align-center"],[1,"sub-action-item","d-flex","align-center"],["iconName","edit"],[1,"sub-action-item","d-flex","align-center",3,"click"],["iconName","delete"],[1,"ae-profile-image",3,"alt","click"],["tabindex","0",1,"d-flex","justify-center","align-center","h100",3,"customTrigger","control","imageChanged"],["iconSize","80","iconName","person",1,"d-flex","align-center","justify-center"],["iconSize","24","iconName","edit"],["iconSize","24","iconName","delete"],["class","sub-action-item",3,"click",4,"ngFor","ngForOf"],[1,"sub-action-item","d-flex","align-center","add-action",3,"click"],["iconSize","24","iconName","add"],[1,"sub-action-item",3,"click"],[1,"ae-progress-content","d-flex","align-center",3,"click"],[1,"ae-progress-icon",3,"ngClass"],["iconSize","22",3,"iconName"],[1,"ae-progress-box"],[1,"ae-overlay",3,"click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,Ct,6,2,"ng-template",null,1,e.W1O),e.YNc(3,At,3,3,"ae-file-upload",2),e.qZA(),e.YNc(4,bt,14,21,"div",3),e.TgZ(5,"div",4),e.TgZ(6,"div",5),e.TgZ(7,"figure",6),e.YNc(8,yt,1,2,"img",7),e.YNc(9,Tt,3,5,"ng-template",null,8,e.W1O),e.qZA(),e.TgZ(11,"div",9),e.TgZ(12,"div",10),e.TgZ(13,"div"),e.TgZ(14,"div",11),e.NdJ("click",function(){return i.showSelection("child")}),e._UZ(15,"h1",12),e._UZ(16,"ae-icon",13),e.qZA(),e.qZA(),e.TgZ(17,"ae-icon",14),e.NdJ("click",function(){return i.showSelection("child-actions")}),e.qZA(),e.qZA(),e._UZ(18,"span",12),e.ALo(19,"age"),e.YNc(20,Zt,11,7,"div",3),e.YNc(21,Ot,7,5,"div",3),e.qZA(),e.qZA(),e.TgZ(22,"div",15),e.YNc(23,wt,10,10,"div",3),e.YNc(24,It,13,13,"div",3),e.TgZ(25,"div",16),e.TgZ(26,"div",17),e.TgZ(27,"div",18),e.TgZ(28,"div",19),e.NdJ("click",function(){return i.showSelection("food")}),e._UZ(29,"ae-icon",20),e.TgZ(30,"span"),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(33,"div",21),e.NdJ("click",function(){return i.openSleepModal()}),e.TgZ(34,"div",22),e._UZ(35,"ae-icon",23),e.TgZ(36,"span"),e._uU(37),e.ALo(38,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(39,"div",24),e.TgZ(40,"div",19),e.NdJ("click",function(){return i.openDiaperModal()}),e._UZ(41,"ae-icon",25),e.TgZ(42,"span"),e._uU(43),e.ALo(44,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(45,"div",26),e.NdJ("click",function(){return i.showSelection("measurement")}),e.TgZ(46,"div",22),e._UZ(47,"ae-icon",27),e.TgZ(48,"span"),e._uU(49),e.ALo(50,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(51,"div",28),e.NdJ("click",function(){return i.openProgressModal()}),e.TgZ(52,"div",22),e._UZ(53,"ae-icon",29),e.TgZ(54,"span"),e._uU(55),e.ALo(56,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(57,"div",30),e.TgZ(58,"ae-datepicker",31),e.TgZ(59,"div",32),e.TgZ(60,"h2"),e.TgZ(61,"span",33),e.YNc(62,Pt,3,3,"ng-container",34),e.YNc(63,Et,3,3,"ng-container",34),e.YNc(64,Ft,2,1,"ng-container",35),e.qZA(),e.qZA(),e._UZ(65,"ae-icon",13),e.qZA(),e.qZA(),e.TgZ(66,"div",36),e.TgZ(67,"ae-icon-button",37),e.NdJ("click",function(){return i.changeDay(-1)}),e.ALo(68,"translate"),e.qZA(),e.TgZ(69,"ae-icon-button",38),e.NdJ("click",function(){return i.changeDay(1)}),e.ALo(70,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(71,"div",39),e.YNc(72,Rt,3,3,"div",40),e.YNc(73,Ut,2,0,"div",40),e.YNc(74,zt,9,7,"div",41),e.qZA(),e.qZA(),e.qZA(),e.YNc(75,Dt,1,0,"div",42)),2&t){const n=e.MAs(2),a=e.MAs(10);e.Q6J("ngStyle",e.VKq(45,kt,"url( "+(null==i.selectedChild?null:i.selectedChild.coverPicture)+")")),e.xp6(3),e.Q6J("ngIf",!i.selectedChild.coverPicture)("ngIfElse",n),e.xp6(1),e.Q6J("ngIf","profile-image"===i.currSelection),e.xp6(4),e.Q6J("ngIf",i.selectedChild.profilePicture)("ngIfElse",a),e.xp6(7),e.Q6J("innerText",i.selectedChild.name),e.xp6(3),e.Q6J("innerText",e.lcZ(19,29,i.selectedChild.dob)),e.xp6(2),e.Q6J("ngIf","child-actions"===i.currSelection),e.xp6(1),e.Q6J("ngIf","child"===i.currSelection),e.xp6(2),e.Q6J("ngIf","measurement"===i.currSelection),e.xp6(1),e.Q6J("ngIf","food"===i.currSelection),e.xp6(7),e.hij(" ",e.lcZ(32,31,"food")," "),e.xp6(6),e.hij(" ",e.lcZ(38,33,"sleep")," "),e.xp6(6),e.hij(" ",e.lcZ(44,35,"diapers")," "),e.xp6(6),e.hij(" ",e.lcZ(50,37,"measure")," "),e.xp6(6),e.hij(" ",e.lcZ(56,39,"progress")," "),e.xp6(3),e.Q6J("customSelector",!0)("control",i.dateFC),e.xp6(3),e.Q6J("ngSwitch",i.visibleDay),e.xp6(1),e.Q6J("ngSwitchCase",i.yesterday),e.xp6(1),e.Q6J("ngSwitchCase",i.today),e.xp6(4),e.Q6J("tooltipText",e.lcZ(68,41,"today")),e.xp6(2),e.Q6J("disabled",i.visibleDay===i.today)("tooltipText",e.lcZ(70,43,"next_day")),e.xp6(3),e.Q6J("ngIf",0===(null==i.profileDataItems?null:i.profileDataItems.length)),e.xp6(1),e.Q6J("ngIf",!i.profileData),e.xp6(1),e.Q6J("ngForOf",i.profileDataItems),e.xp6(1),e.Q6J("ngIf",i.currSelection)}},directives:[m.PC,m.O5,G.o,q.Q,m.RF,m.n9,m.ED,Q.r,m.sg,vt,m.mk],pipes:[xt,v.X$,m.uU],styles:['[_nghost-%COMP%]{display:block;padding:0 0 40px}[_nghost-%COMP%]   .cover-image[_ngcontent-%COMP%]{font-size:16px;color:#888}[_nghost-%COMP%]   .cover-image[_ngcontent-%COMP%]   ae-icon-button[_ngcontent-%COMP%]{color:#888;margin-right:8px}[_nghost-%COMP%]   .ae-header[_ngcontent-%COMP%]{height:120px;background-position:center top;background-size:cover;margin:0 -10px;z-index:2;position:relative;box-shadow:0 0 12px #00000003,0 0 20px #00000005,0 0 28px #00000014}[_nghost-%COMP%]   .ae-header[_ngcontent-%COMP%]   .ae-header-content[_ngcontent-%COMP%]{padding:0 10px;margin-top:-100px}[_nghost-%COMP%]   .ae-profile-figure[_ngcontent-%COMP%]{margin:-50px 8px 0 0;width:90px;border:3px solid #fff;background:#fff;height:90px;border-radius:50%;position:relative;z-index:3;box-shadow:inset 0 0 12px #00000003,0 0 20px #00000005,0 0 28px #00000014;flex-shrink:0}[_nghost-%COMP%]   .ae-profile-figure[_ngcontent-%COMP%]   .ae-profile-image[_ngcontent-%COMP%]{display:block;border-radius:50%;width:100%;height:100%}[_nghost-%COMP%]   .ae-profile-content[_ngcontent-%COMP%]{margin-top:-6px}[_nghost-%COMP%]   .ae-profile-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]   .ae-profile-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#888}[_nghost-%COMP%]   .ae-card[_ngcontent-%COMP%]{padding:12px;background:#fff;box-shadow:0 0 12px #00000003,0 0 20px #00000005,0 0 28px #00000014}[_nghost-%COMP%]   .ae-card[_ngcontent-%COMP%]   .ae-card-header[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;margin-bottom:8px}[_nghost-%COMP%]   .ae-card[_ngcontent-%COMP%]   .ae-card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#0009}[_nghost-%COMP%]   .ae-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], [_nghost-%COMP%]   .ae-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0}@media only screen and (max-width: 576px){[_nghost-%COMP%]   .ae-card[_ngcontent-%COMP%]{margin:0 -10px 12px}}.ae-progress-on-going[_ngcontent-%COMP%]{padding:10px 10px 20px;border-radius:4px;background:#eee;box-shadow:0 2px 10px #0000004d;margin-bottom:12px}.ae-progress-on-going[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:500;margin:0}.ae-schedule[_ngcontent-%COMP%]{margin-top:20px}.ae-schedule[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0}.ae-schedule[_ngcontent-%COMP%]   .quick-actions-wrapper[_ngcontent-%COMP%]{overflow:auto;margin:4px -10px 0 -20px;padding:0 20px 18px}.ae-schedule[_ngcontent-%COMP%]   .quick-actions-wrapper[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]{overflow:visible;width:125%}.ae-schedule[_ngcontent-%COMP%]   .quick-actions-wrapper[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .quick-action-item[_ngcontent-%COMP%]{margin-right:10px;text-align:center;width:21%;flex-shrink:0;border-radius:4px;box-shadow:0 3px 4px #0003}.ae-schedule[_ngcontent-%COMP%]   .quick-actions-wrapper[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .quick-action-item[_ngcontent-%COMP%]:last-child{margin-right:20px}.ae-schedule[_ngcontent-%COMP%]   .quick-actions-wrapper[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .quick-action-item[_ngcontent-%COMP%]   .quick-action-item-icon[_ngcontent-%COMP%]{display:block}.ae-schedule[_ngcontent-%COMP%]   .quick-actions-wrapper[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .quick-action-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-size:.8rem;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.ae-schedule[_ngcontent-%COMP%]   .quick-actions-wrapper[_ngcontent-%COMP%]   .quick-actions[_ngcontent-%COMP%]   .quick-action-item[_ngcontent-%COMP%]   ae-icon[_ngcontent-%COMP%]{padding:10px 5px;line-height:60px}.ae-progress[_ngcontent-%COMP%]{position:relative;padding-bottom:24px}.ae-progress[_ngcontent-%COMP%]   .ae-progress-content[_ngcontent-%COMP%]{position:relative;z-index:1;padding:10px 0}.ae-progress[_ngcontent-%COMP%]   .ae-progress-content[_ngcontent-%COMP%]:before{content:"";z-index:-1;position:absolute;top:10px;height:100%;width:0px;border-left:3px dashed #ccc;left:16px}.ae-progress[_ngcontent-%COMP%]   .ae-progress-content[_ngcontent-%COMP%]:first-child{padding-top:0}.ae-progress[_ngcontent-%COMP%]   .ae-progress-content[_ngcontent-%COMP%]:last-child{padding-bottom:0}.ae-progress[_ngcontent-%COMP%]   .ae-progress-content[_ngcontent-%COMP%]   .ae-progress-box[_ngcontent-%COMP%]{margin-left:10px}.ae-progress[_ngcontent-%COMP%]   .ae-progress-content[_ngcontent-%COMP%]   .ae-progress-box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:.9rem;line-height:.9rem;font-weight:400;margin:0 0 8px}.ae-progress[_ngcontent-%COMP%]   .ae-progress-content[_ngcontent-%COMP%]   .ae-progress-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.8rem;line-height:.8rem;color:#aaa}.ae-progress[_ngcontent-%COMP%]   .ae-progress-content[_ngcontent-%COMP%]   .ae-progress-icon[_ngcontent-%COMP%]{padding:5px;border-radius:50%;width:22px;height:22px}.change-profile-pic[_ngcontent-%COMP%]{margin-top:-20px}.change-profile-pic[_ngcontent-%COMP%]   ae-icon-button[_ngcontent-%COMP%]{background:#eee;padding:5px;border-radius:50%;box-shadow:0 0 20px #00000040,0 0 10px #00000040;margin-right:4px}'],data:{animation:[Ie.p]}}),o})(),data:{animation:"ProfilePage"}},{path:"add-child",component:K,data:{animation:"SubProfilePage"}},{path:"achievement",component:H,data:{animation:"SubProfilePage"}},{path:"food",component:re,data:{animation:"SubProfilePage"}},{path:"food",loadChildren:()=>l.e(82).then(l.bind(l,3082)).then(o=>o.BreastFeedModule)},{path:"food",loadChildren:()=>l.e(943).then(l.bind(l,9943)).then(o=>o.FoodModule)}];let Nt=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[O.Bz.forChild(Lt)],O.Bz]}),o})();var Ht=l(4466),qt=l(4675),Bt=l(6738);let Qt=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[Ht.m,Bt.Z,qt.W,m.ez,Nt,tt]]}),o})()},42:(j,z,l)=>{l.d(z,{d:()=>R});var m=l(2340),O=l(7716),M=l(1841),I=l(8613);let R=(()=>{class p{constructor(e,y){this.http=e,this.userService=y,this.baseUrl=m.N.baseUrl}getAll(){return this.http.get(`${this.baseUrl}/child/${this.userService.selectedChild._id}/food`)}getAllByType(e){return this.http.get(`${this.baseUrl}/child/${this.userService.selectedChild._id}/food/${e}`)}update(e){return this.http.put(`${this.baseUrl}/child/${this.userService.selectedChild._id}/food/${e._id}`,e)}delete(e){return this.http.delete(`${this.baseUrl}/child/${this.userService.selectedChild._id}/food/${e._id}`)}create(e){return this.http.post(`${this.baseUrl}/child/${this.userService.selectedChild._id}/food`,e)}}return p.\u0275fac=function(e){return new(e||p)(O.LFG(M.eN),O.LFG(I.K))},p.\u0275prov=O.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},4131:(j,z,l)=>{l.d(z,{L:()=>y});var m=l(7716),O=l(8583),M=l(4655),I=l(6991);function R(d,v){if(1&d&&(m.TgZ(0,"a",7),m._uU(1),m.qZA()),2&d){const A=m.oxw().$implicit;m.Q6J("routerLink",A.link),m.xp6(1),m.Oqu(A.name)}}function p(d,v){if(1&d&&(m.TgZ(0,"span"),m._uU(1),m.qZA()),2&d){const A=m.oxw().$implicit;m.xp6(1),m.Oqu(A.name)}}function L(d,v){1&d&&m._UZ(0,"ae-icon",8)}function e(d,v){if(1&d&&(m.ynx(0),m.TgZ(1,"li",3),m.YNc(2,R,2,2,"a",4),m.YNc(3,p,2,1,"ng-template",null,5,m.W1O),m.YNc(5,L,1,0,"ae-icon",6),m.qZA(),m.BQk()),2&d){const A=v.$implicit,F=v.last,Q=m.MAs(4);m.xp6(1),m.uIk("aria-current",!!F&&"page"),m.xp6(1),m.Q6J("ngIf",A.link)("ngIfElse",Q),m.xp6(3),m.Q6J("ngIf",!F)}}let y=(()=>{class d{}return d.\u0275fac=function(A){return new(A||d)},d.\u0275cmp=m.Xpm({type:d,selectors:[["ae-breadcrumb"]],inputs:{breadcrumbs:"breadcrumbs"},decls:3,vars:1,consts:[["aria-label","breadcrumb"],[1,"ae-breadcrumb"],[4,"ngFor","ngForOf"],[1,"ae-breadcrumb-item","d-flex","align-center","grow-0"],[3,"routerLink",4,"ngIf","ngIfElse"],["noLink",""],["class","ae-breadcrumb-divider","iconName","chevron_right","iconSize","18",4,"ngIf"],[3,"routerLink"],["iconName","chevron_right","iconSize","18",1,"ae-breadcrumb-divider"]],template:function(A,F){1&A&&(m.TgZ(0,"nav",0),m.TgZ(1,"ol",1),m.YNc(2,e,6,4,"ng-container",2),m.qZA(),m.qZA()),2&A&&(m.xp6(2),m.Q6J("ngForOf",F.breadcrumbs))},directives:[O.sg,O.O5,M.yS,I.o],styles:[".d-flex[_ngcontent-%COMP%]{display:flex;flex-grow:1}.d-flex.justify-between[_ngcontent-%COMP%]{justify-content:space-between}.d-flex.justify-center[_ngcontent-%COMP%]{justify-content:center}.d-flex.justify-end[_ngcontent-%COMP%]{justify-content:flex-end}.d-flex.align-center[_ngcontent-%COMP%]{align-items:center}.d-flex.align-end[_ngcontent-%COMP%]{align-items:flex-end}.d-flex.grow-0[_ngcontent-%COMP%]{flex-grow:0}.d-flex.grow-1[_ngcontent-%COMP%]{flex-grow:1}.d-flex.wrap[_ngcontent-%COMP%]{flex-wrap:wrap}.d-flex[_ngcontent-%COMP%]   .w50[_ngcontent-%COMP%]{width:50%}.ae-link[_ngcontent-%COMP%]{color:#2196f3}.ae-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.heading-2[_ngcontent-%COMP%]{color:#0009;margin:0;font-weight:400}.heading-4[_ngcontent-%COMP%]{color:#0009;margin:0;font-weight:400;font-size:.9rem}.ae-breadcrumb[_ngcontent-%COMP%]{display:flex;padding:0;margin:0}.ae-breadcrumb[_ngcontent-%COMP%]   .ae-breadcrumb-item[_ngcontent-%COMP%]{list-style:none;text-transform:uppercase;font-size:12px;color:#000c}.ae-breadcrumb[_ngcontent-%COMP%]   .ae-breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#2196f3}.ae-breadcrumb[_ngcontent-%COMP%]   .ae-breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.ae-breadcrumb[_ngcontent-%COMP%]   .ae-breadcrumb-divider[_ngcontent-%COMP%]{margin:0 4px;color:#0006}"]}),d})()}}]);